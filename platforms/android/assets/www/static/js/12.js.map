{"version":3,"sources":["webpack:///./src/views/repay/RepayFailed.vue?9bac","webpack:///./src/views/repay/RepayFailed.vue?f317","webpack:///./src/views/repay/RepayFailed.vue?fb0a","webpack:///RepayFailed.vue","webpack:///./src/views/repay/RepayFailed.vue","webpack:///./src/views/repay/repay_mixins.js?cf48"],"names":["methods","mapMutations","repay","repayments","save","contractId","$store","getters","user","currentOngoingContract","id","then","res","json","data","code","RET_CODE_MAP","OK","status","repaymentStatus","updateStateCode","CUST_STATE_CODE_MAP","REPAYING","$router","push","name","$toast"],"mappings":"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","file":"static/js/12.js","sourcesContent":["// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-efb674d0!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./RepayFailed.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"5f4e3e16\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-efb674d0!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./RepayFailed.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-efb674d0!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./RepayFailed.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-efb674d0!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/repay/RepayFailed.vue\n// module id = 5ArB\n// module chunks = 12","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"repay-failed single-page-tip error\"\n  }, [_c('header', {\n    staticClass: \"small-header\"\n  }, [_c('h2', [_c('fb-icon', {\n    attrs: {\n      \"name\": \"shibai\"\n    }\n  }), _vm._v(\"还款失败\")], 1), _c('p', {\n    domProps: {\n      \"innerHTML\": _vm._s(_vm.err.repaymentReasonMsg)\n    }\n  })]), _c('article', [_c('h4', [_vm._v(\"您还可以这样还款\")]), _c('ul', [_c('li', [_vm._v(\"方式一：继续用尾号\" + _vm._s(_vm.contract.bankCard.slice(-4)) + \"还款。\"), _c('a', {\n    on: {\n      \"click\": function($event) {\n        $event.preventDefault();\n        _vm.repayRetry()\n      }\n    }\n  }, [_c('mt-button', {\n    staticClass: \"br2\",\n    attrs: {\n      \"type\": \"default\"\n    }\n  }, [_vm._v(\"重试\")])], 1)]), _c('li', [_vm._v(\"方式二：更换一张充足余额的银行卡。\"), _c('router-link', {\n    attrs: {\n      \"to\": {\n        name: 'bankList',\n        params: {\n          transitionName: 'slideRightFade',\n          from: _vm.$route\n        }\n      }\n    }\n  }, [_c('mt-button', {\n    staticClass: \"br2\",\n    attrs: {\n      \"type\": \"default\"\n    }\n  }, [_vm._v(\"前往\")])], 1)], 1), _c('li', [_vm._v(\"方式三：通过支付宝转账至我们公户fengniaosudai@163.com(请备注姓名+手机号），转账后在公众号中通知客服。\")])])])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-efb674d0\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-efb674d0!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/repay/RepayFailed.vue\n// module id = 6Kb6\n// module chunks = 12","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.repay-failed .mint-button {\\n  font-size: 13px;\\n  height: 23px;\\n  line-height: 23px;\\n  background-color: white;\\n  overflow: hidden;\\n  box-shadow: none;\\n  color: inherit;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/repay/src/views/repay/RepayFailed.vue\",\"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/repay/src/assets/scss/_variables.scss\"],\"names\":[],\"mappings\":\";AAmFA;EAEI,gBC/De;EDgEf,aAAY;EACZ,kBAAiB;EACjB,wBAAuB;EACvB,iBAAgB;EAChB,iBAAgB;EAChB,eAAc;CACf\",\"file\":\"RepayFailed.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n@import \\\"~assets/scss/_variables.scss\\\";\\n.repay-failed {\\n  .mint-button {\\n    font-size: $font-size-xs;\\n    height: 23px;\\n    line-height: 23px;\\n    background-color: white;\\n    overflow: hidden;\\n    box-shadow: none;\\n    color: inherit;\\n  }\\n}\\n\",\"// ----- 颜色 -----\\n$primary-font-color: #333; // 文字颜色\\n$minor-font-color: #666; // 文字次颜色\\n$primary-bg-color: #efeff4; // 主要背景色\\n$minor-bg-color: #eeefef; // 次要背景色\\n$primary-color: #4790fe; // 主色\\n$error-color: #f44336; // 错误色\\n$warning-color: #ffc107; // 警告色\\n$font-color-em: #3586ff; // 强调字体颜色，偏蓝\\n$border-color: #d9d9d9; // 边框颜色\\n$gray-color: #888;\\n$mid-gray-color: #a0a0a0;\\n$small-gray-color: #fafafa;\\n$placeholder-color: #b2b2b2;\\n$header-bg-color: #1c1c1f;\\n\\n// ----- 文字尺寸 -----\\n$font-size-xxxl: 25px;\\n$font-size-xxl: 20px;\\n$font-size-xl: 17px;\\n$font-size-m: 15px;\\n$font-size-s: 14px;\\n$font-size-xs: 13px;\\n$font-size-xxs: 12px;\\n$font-size-xxxs: 10px;\\n\\n@mixin font-size-xxxs {\\n  font-size: $font-size-xxs;\\n  transform: scale(0.9167);\\n}\\n@mixin font-size-xxxxs {\\n  font-size: $font-size-xxs;\\n  transform: scale(0.8333);\\n}\\n\\n// ----- 尺寸 -----\\n$header-height: 40px; // 头部高度\\n\\n// ----- mint ui color颜色 -----\\n$el-blue: #20A0FF;\\n$el-light-blue: #58B7FF;\\n$el-dark-blue: #1D8CE0;\\n$el-green: #13CE66;\\n$el-orange: #df9a51;\\n$el-yellow: #ffcc00;\\n$el-red: #fe6252;\\n$el-black: #1F2D3D;\\n$el-light-black: #324057;\\n$el-extra-light-black: #475669;\\n$el-silver: #8492A6;\\n$el-light-silver:#99A9BF;\\n$el-extra-light-silver: #C0CCDA;\\n$el-gray:#D3DCE6;\\n$el-light-gray:#E5E9F2;\\n$el-extra-light-gray:#EFF2F7;\\n$el-white: white;\\n$el-dark-white: #F9FAFC;\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-efb674d0!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/repay/RepayFailed.vue\n// module id = GfB1\n// module chunks = 12","<template lang=\"pug\">\nsection.repay-failed.single-page-tip.error\n  header.small-header\n    h2\n      fb-icon(name=\"shibai\")\n      | 还款失败\n    p(v-html=\"err.repaymentReasonMsg\")\n  article\n    h4 您还可以这样还款\n    ul\n      li\n        | 方式一：继续用尾号{{contract.bankCard.slice(-4)}}还款。\n        a(@click.prevent=\"repayRetry()\")\n          mt-button.br2(type=\"default\") 重试\n      li\n        | 方式二：更换一张充足余额的银行卡。\n        router-link(:to=\"{name: 'bankList', params: {transitionName: 'slideRightFade', from: $route}}\")\n          mt-button.br2(type=\"default\") 前往\n      li 方式三：通过支付宝转账至我们公户fengniaosudai@163.com(请备注姓名+手机号），转账后在公众号中通知客服。\n\n</template>\n\n<script>\nimport { repaymentError, selfContracts } from '@/common/resources.js'\nimport repayMixins from '@/views/repay/repay_mixins.js'\nimport store from '@/store'\nimport { RET_CODE_MAP, CUST_STATE_CODE_MAP } from '@/constants.js'\n\nexport default {\n  mixins: [repayMixins],\n\n  async beforeRouteEnter(to, from, next) {\n    const user = store.getters.user\n    const datas = await Promise.all([\n      selfContracts.get({ id: user.currentOngoingContract.id }).then(res => res.json()),\n      repaymentError.get({ contractId: user.currentOngoingContract.id }).then(res => res.json())\n    ])\n\n    next(vm => {\n      if (datas[0].code === RET_CODE_MAP.OK) {\n        vm.contract = Object.assign({}, datas[0].data)\n      }\n      if (datas[1].code === RET_CODE_MAP.OK) {\n        vm.err = datas[1].data\n      }\n    })\n  },\n\n  methods: {\n    repayRetry() {\n      this.$store.commit('updateStateCode', CUST_STATE_CODE_MAP.DEBT_NOT_SETTLED)\n      this.$router.push({\n        name: 'repayInfo'\n      })\n    }\n  },\n\n  filters: {\n    errMsgPrune(val) {\n      return val ? val.replace(/\\[[^]]*\\]/g, '') : ''\n    }\n  },\n\n  mounted() {\n    if (this.$route.params.fromDefaultBankSet) {\n      this.repay()\n    }\n  },\n\n  data() {\n    return {\n      contract: { bankCard: '' },\n      err: {\n        repaymentReasonMsg: ''\n      }\n    }\n  }\n}\n</script>\n\n\n<style lang=\"scss\">\n@import \"~assets/scss/_variables.scss\";\n.repay-failed {\n  .mint-button {\n    font-size: $font-size-xs;\n    height: 23px;\n    line-height: 23px;\n    background-color: white;\n    overflow: hidden;\n    box-shadow: none;\n    color: inherit;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// RepayFailed.vue?554819a7","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-efb674d0!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./RepayFailed.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./RepayFailed.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-efb674d0!../../../node_modules/vue-loader/lib/template-loader?raw&engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./RepayFailed.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/repay/RepayFailed.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] RepayFailed.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-efb674d0\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-efb674d0\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/repay/RepayFailed.vue\n// module id = slIS\n// module chunks = 12","import {\n  repayments\n} from '@/common/resources.js'\nimport {\n  CUST_STATE_CODE_MAP,\n  RET_CODE_MAP\n} from '@/constants.js'\nimport {\n  mapMutations\n} from 'vuex'\n\nexport default {\n  methods: {\n    ...mapMutations(['updateStateCode']),\n    async repay() {\n      const data = await repayments.save({\n        contractId: this.$store.getters.user.currentOngoingContract.id\n      }).then(res => res.json())\n      if (data.code === RET_CODE_MAP.OK) {\n        const status = data.data.repaymentStatus\n        if (status === 0) {\n          this.updateStateCode(CUST_STATE_CODE_MAP.REPAYING)\n          this.$router.push({\n            name: 'repaying'\n          })\n        } else if (status === 2) {\n          this.$toast('支付系统升级中！', 'error')\n        } else {\n          this.$toast('抱歉，系统繁忙', 'error')\n        }\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/repay/repay_mixins.js"],"sourceRoot":""}