{"version":3,"sources":["webpack:///static/js/4.0f11d84e87abc36460c9.js","webpack:///./src/views/account/ChangeBankCardStep1.vue","webpack:///./src/views/validator_mixin.js?9d68**","webpack:///FbCountdown.vue?1998","webpack:///./src/components/FbCountdown.vue?0a47","webpack:///./src/components/FbCountdown.vue?abcb*","webpack:///ChangeBankCardStep1.vue","webpack:///./src/views/account/ChangeBankCardStep1.vue?8720","webpack:///./src/views/account/ChangeBankCardStep1.vue?cd07","webpack:///./src/views/account/ChangeBankCardStep1.vue?1bb5"],"names":["webpackJsonp","348","module","exports","__webpack_require__","Component","options","__file","esModule","Object","keys","some","key","console","error","functional","359","__webpack_exports__","__WEBPACK_IMPORTED_MODULE_0_simple_vue_validator__","__WEBPACK_IMPORTED_MODULE_0_simple_vue_validator___default","n","Validator","a","methods","validate","value","getFieldState","field","this","validation","hasError","isPassed","showFieldError","event","et","target","classList","contains","parentNode","$root","toast","firstError","364","defineProperty","start","_self","handle","setInterval","second","end","clearInterval","$emit","data","371","373","render","_vm","_h","$createElement","_c","_v","_s","staticRenderFns","_withStripped","379","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__","__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default","__WEBPACK_IMPORTED_MODULE_1__components_FbCountdown_vue__","__WEBPACK_IMPORTED_MODULE_1__components_FbCountdown_vue___default","__WEBPACK_IMPORTED_MODULE_2__validator_mixin_js__","__WEBPACK_IMPORTED_MODULE_3__common_resources_js__","__WEBPACK_IMPORTED_MODULE_4__constants_js__","__WEBPACK_IMPORTED_MODULE_5_vuex__","mixins","components","FbCountdown","validators","model.phoneMsg","required","digit","length","toGetMsgCode","_this","get","then","res","json","ret","OK","countdownVisible","$refs","fnCountdown","onCountdownOver","submit","_this2","$validate","success","model","$router","push","name","computed","i","phoneMsg","401","version","sources","names","mappings","file","sourceRoot","422","staticClass","on","$event","preventDefault","user","phone","attrs","label","placeholder","state","nativeOn","click","callback","$$v","expression","type","disabled","stopPropagation","directives","rawName","ref","countdown-over","size","437","content","locals"],"mappings":"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","file":"static/js/4.0f11d84e87abc36460c9.js","sourcesContent":["webpackJsonp([4,17],{\n\n/***/ 348:\n/***/ (function(module, exports, __webpack_require__) {\n\n\n/* styles */\n__webpack_require__(437)\n\nvar Component = __webpack_require__(61)(\n  /* script */\n  __webpack_require__(379),\n  /* template */\n  __webpack_require__(422),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/views/account/ChangeBankCardStep1.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] ChangeBankCardStep1.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7a0ff6be\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7a0ff6be\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 359:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_simple_vue_validator__ = __webpack_require__(64);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_simple_vue_validator___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_simple_vue_validator__);\n\nvar Validator = __WEBPACK_IMPORTED_MODULE_0_simple_vue_validator___default.a.Validator;\n\n/* harmony default export */ __webpack_exports__[\"a\"] = {\n  methods: {\n    Validator: Validator,\n    validate: Validator.value,\n    getFieldState: function getFieldState(field) {\n      if (this.validation.hasError(field)) {\n        return 'error';\n      } else if (this.validation.isPassed(field)) {\n        return 'success';\n      }\n      return '';\n    },\n    showFieldError: function showFieldError(event, field) {\n      var et = event.target;\n      if (et.classList.contains('mintui-field-error') && et.parentNode.classList.contains('mint-field-state')) {\n        this.$root.toast(this.validation.firstError(field), 'error');\n      }\n    }\n  }\n};\n\n/***/ }),\n\n/***/ 364:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  methods: {\n    start: function start() {\n      var _self = this;\n      this.handle = setInterval(function countDown() {\n        if (_self.second > 0) {\n          _self.second -= 1;\n        } else {\n          _self.end();\n        }\n      }, 1000);\n    },\n    end: function end() {\n      clearInterval(this.handle);\n      this.second = 59;\n      this.$emit('countdown-over');\n    }\n  },\n\n  data: function data() {\n    return {\n      handle: null,\n      second: 59\n    };\n  }\n};\n\n/***/ }),\n\n/***/ 371:\n/***/ (function(module, exports, __webpack_require__) {\n\nvar Component = __webpack_require__(61)(\n  /* script */\n  __webpack_require__(364),\n  /* template */\n  __webpack_require__(373),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/components/FbCountdown.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] FbCountdown.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (false) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0e8c6c91\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0e8c6c91\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n/***/ }),\n\n/***/ 373:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('small', [_vm._v(_vm._s(_vm.second) + \" 秒后重发\")])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-0e8c6c91\", module.exports)\n  }\n}\n\n/***/ }),\n\n/***/ 379:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__ = __webpack_require__(62);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_FbCountdown_vue__ = __webpack_require__(371);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1__components_FbCountdown_vue___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_1__components_FbCountdown_vue__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__validator_mixin_js__ = __webpack_require__(359);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__common_resources_js__ = __webpack_require__(35);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__constants_js__ = __webpack_require__(15);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_5_vuex__ = __webpack_require__(63);\n\n\n\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = {\n  mixins: [__WEBPACK_IMPORTED_MODULE_2__validator_mixin_js__[\"a\" /* default */]],\n  components: {\n    FbCountdown: __WEBPACK_IMPORTED_MODULE_1__components_FbCountdown_vue___default.a\n  },\n\n  validators: {\n    'model.phoneMsg': function modelPhoneMsg(value) {\n      return this.validate(value).required('请输入验证码').digit('请正确输入验证码').length(6, '请正确输入验证码');\n    }\n  },\n\n  methods: {\n    toGetMsgCode: function toGetMsgCode() {\n      var _this = this;\n\n      __WEBPACK_IMPORTED_MODULE_3__common_resources_js__[\"d\" /* updateInfoSendMsgFromPhone */].get().then(function (res) {\n        return res.json();\n      }).then(function (data) {\n        if (data.ret === __WEBPACK_IMPORTED_MODULE_4__constants_js__[\"a\" /* RET_CODE_MAP */].OK) {\n          _this.countdownVisible = true;\n          _this.$refs.fnCountdown.start();\n        }\n      });\n    },\n    onCountdownOver: function onCountdownOver() {\n      this.countdownVisible = false;\n    },\n    submit: function submit() {\n      var _this2 = this;\n\n      this.$validate().then(function (success) {\n        if (success) {\n          __WEBPACK_IMPORTED_MODULE_3__common_resources_js__[\"e\" /* validateUpdateInfoMsgFromPhone */].get(_this2.model).then(function (res) {\n            return res.json();\n          }).then(function (data) {\n            if (data.ret === __WEBPACK_IMPORTED_MODULE_4__constants_js__[\"a\" /* RET_CODE_MAP */].OK) {\n              _this2.$router.push({\n                name: 'changeBankCardStep2'\n              });\n            }\n          });\n        } else {\n          _this2.$root.toast(_this2.validation.firstError(), 'error');\n        }\n      });\n    }\n  },\n\n  computed: __WEBPACK_IMPORTED_MODULE_0_babel_runtime_helpers_extends___default()({}, __webpack_require__.i(__WEBPACK_IMPORTED_MODULE_5_vuex__[\"b\" /* mapGetters */])(['user'])),\n\n  data: function data() {\n    return {\n      model: {\n        phoneMsg: ''\n      },\n      countdownVisible: false\n    };\n  }\n};\n\n/***/ }),\n\n/***/ 401:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1)();\n// imports\n\n\n// module\nexports.push([module.i, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"ChangeBankCardStep1.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 422:\n/***/ (function(module, exports, __webpack_require__) {\n\nmodule.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('form', {\n    staticClass: \"change-bank-card-form\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.submit()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"fields-header\"\n  }, [_vm._v(\"账户信息\"), _c('small', [_vm._v(\"您即将变更银行卡信息，为保证您的安全，我们将向您的手机：\" + _vm._s(_vm.user.phone) + \"发送短信验证码，确认身份。\")])]), _c('div', {\n    staticClass: \"fields\"\n  }, [_c('mt-field', {\n    attrs: {\n      \"label\": \"\",\n      \"placeholder\": \"请输入验证码\",\n      \"state\": _vm.getFieldState('model.phoneMsg')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.phoneMsg')\n      }\n    },\n    model: {\n      value: (_vm.model.phoneMsg),\n      callback: function($$v) {\n        _vm.model.phoneMsg = $$v\n      },\n      expression: \"model.phoneMsg\"\n    }\n  }, [_c('mt-button', {\n    attrs: {\n      \"type\": \"default\",\n      \"disabled\": _vm.countdownVisible\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.toGetMsgCode()\n      }\n    }\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.countdownVisible),\n      expression: \"!countdownVisible\"\n    }]\n  }, [_vm._v(\"发送验证码\")]), _c('fb-countdown', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.countdownVisible),\n      expression: \"countdownVisible\"\n    }],\n    ref: \"fnCountdown\",\n    on: {\n      \"countdown-over\": function($event) {\n        _vm.onCountdownOver()\n      }\n    }\n  })], 1)], 1)], 1), _c('div', {\n    staticClass: \"form-buttons\"\n  }, [_c('mt-button', {\n    staticClass: \"mint-button-block\",\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    }\n  }, [_vm._v(\"下一步\")])], 1)])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (false) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7a0ff6be\", module.exports)\n  }\n}\n\n/***/ }),\n\n/***/ 437:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(401);\nif(typeof content === 'string') content = [[module.i, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = __webpack_require__(3)(\"3019aa7e\", content, false);\n// Hot Module Replacement\nif(false) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep1.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep1.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/4.0f11d84e87abc36460c9.js","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":false,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-7a0ff6be!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChangeBankCardStep1.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangeBankCardStep1.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-7a0ff6be!../../../node_modules/vue-loader/lib/template-loader?raw&engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangeBankCardStep1.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/views/account/ChangeBankCardStep1.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] ChangeBankCardStep1.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-7a0ff6be\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-7a0ff6be\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/account/ChangeBankCardStep1.vue\n// module id = 348\n// module chunks = 4","import SimpleVueValidation from 'simple-vue-validator'\nconst Validator = SimpleVueValidation.Validator\n\nexport default {\n  methods: {\n    Validator,\n    validate: Validator.value,\n    getFieldState(field) {\n      if (this.validation.hasError(field)) {\n        return 'error'\n      } else if (this.validation.isPassed(field)) {\n        return 'success'\n      }\n      return ''\n    },\n    showFieldError(event, field) {\n      const et = event.target\n      if (et.classList.contains('mintui-field-error') && et.parentNode.classList.contains('mint-field-state')) {\n        this.$root.toast(this.validation.firstError(field), 'error')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/validator_mixin.js","<template lang=\"pug\">\nsmall {{second}} 秒后重发\n</template>\n\n<script>\nexport default {\n  methods: {\n    start() {\n      const _self = this\n      this.handle = setInterval(function countDown() {\n        if (_self.second > 0) {\n          _self.second -= 1\n        } else {\n          _self.end()\n        }\n      }, 1000)\n    },\n    end() {\n      clearInterval(this.handle)\n      this.second = 59\n      this.$emit('countdown-over')\n    }\n  },\n\n  data() {\n    return {\n      handle: null,\n      second: 59\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// FbCountdown.vue?646832a2","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FbCountdown.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-0e8c6c91!../../node_modules/vue-loader/lib/template-loader?raw&engine=pug!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FbCountdown.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/components/FbCountdown.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] FbCountdown.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-0e8c6c91\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-0e8c6c91\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FbCountdown.vue\n// module id = 371\n// module chunks = 3 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('small', [_vm._v(_vm._s(_vm.second) + \" 秒后重发\")])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-0e8c6c91\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-0e8c6c91!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/FbCountdown.vue\n// module id = 373\n// module chunks = 3 4","<template lang=\"pug\">\nsection\n  form.change-bank-card-form(@submit.prevent='submit()')\n    .fields-header\n      | 账户信息\n      small 您即将变更银行卡信息，为保证您的安全，我们将向您的手机：{{user.phone}}发送短信验证码，确认身份。\n    .fields\n      mt-field(label='', placeholder='请输入验证码', v-model='model.phoneMsg', :state=\"getFieldState('model.phoneMsg')\", @click.native=\"showFieldError($event, 'model.phoneMsg')\")\n        mt-button(type='default', @click.stop.prevent='toGetMsgCode()', :disabled='countdownVisible')\n          span(v-show='!countdownVisible') 发送验证码\n          fb-countdown(ref='fnCountdown', v-show='countdownVisible', @countdown-over='onCountdownOver()')\n    .form-buttons\n      mt-button.mint-button-block(type='primary', size='large') 下一步\n</template>\n\n<script>\nimport FbCountdown from '../../components/FbCountdown.vue'\nimport ValidatorMixin from '../validator_mixin.js'\nimport {\n  updateInfoSendMsgFromPhone,\n  validateUpdateInfoMsgFromPhone\n} from '../../common/resources.js'\nimport {\n  RET_CODE_MAP\n} from '../../constants.js'\nimport {\n  mapGetters\n} from 'vuex'\n\nexport default {\n  mixins: [ValidatorMixin],\n  components: {\n    FbCountdown\n  },\n\n  validators: {\n    'model.phoneMsg' (value) {\n      return this.validate(value).required('请输入验证码').digit('请正确输入验证码').length(6, '请正确输入验证码')\n    }\n  },\n\n  methods: {\n    // 获取验证码\n    toGetMsgCode() {\n      updateInfoSendMsgFromPhone.get().then(res => res.json()).then(data => {\n        if (data.ret === RET_CODE_MAP.OK) {\n          this.countdownVisible = true\n          this.$refs.fnCountdown.start()\n        }\n      })\n    },\n    onCountdownOver() {\n      this.countdownVisible = false\n    },\n\n    submit() {\n      this.$validate().then(success => {\n        if (success) {\n          validateUpdateInfoMsgFromPhone.get(this.model).then(res => res.json()).then(data => {\n            if (data.ret === RET_CODE_MAP.OK) {\n              this.$router.push({\n                name: 'changeBankCardStep2'\n              })\n            }\n          })\n        } else {\n          this.$root.toast(this.validation.firstError(), 'error')\n        }\n      })\n    }\n  },\n\n  computed: {\n    ...mapGetters(['user'])\n  },\n\n  data() {\n    return {\n      model: {\n        phoneMsg: ''\n      },\n      countdownVisible: false\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ChangeBankCardStep1.vue?91575d08","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\", \"\", {\"version\":3,\"sources\":[],\"names\":[],\"mappings\":\"\",\"file\":\"ChangeBankCardStep1.vue\",\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":false,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/account/ChangeBankCardStep1.vue\n// module id = 401\n// module chunks = 4","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('form', {\n    staticClass: \"change-bank-card-form\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.submit()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"fields-header\"\n  }, [_vm._v(\"账户信息\"), _c('small', [_vm._v(\"您即将变更银行卡信息，为保证您的安全，我们将向您的手机：\" + _vm._s(_vm.user.phone) + \"发送短信验证码，确认身份。\")])]), _c('div', {\n    staticClass: \"fields\"\n  }, [_c('mt-field', {\n    attrs: {\n      \"label\": \"\",\n      \"placeholder\": \"请输入验证码\",\n      \"state\": _vm.getFieldState('model.phoneMsg')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.phoneMsg')\n      }\n    },\n    model: {\n      value: (_vm.model.phoneMsg),\n      callback: function($$v) {\n        _vm.model.phoneMsg = $$v\n      },\n      expression: \"model.phoneMsg\"\n    }\n  }, [_c('mt-button', {\n    attrs: {\n      \"type\": \"default\",\n      \"disabled\": _vm.countdownVisible\n    },\n    on: {\n      \"click\": function($event) {\n        $event.stopPropagation();\n        $event.preventDefault();\n        _vm.toGetMsgCode()\n      }\n    }\n  }, [_c('span', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (!_vm.countdownVisible),\n      expression: \"!countdownVisible\"\n    }]\n  }, [_vm._v(\"发送验证码\")]), _c('fb-countdown', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.countdownVisible),\n      expression: \"countdownVisible\"\n    }],\n    ref: \"fnCountdown\",\n    on: {\n      \"countdown-over\": function($event) {\n        _vm.onCountdownOver()\n      }\n    }\n  })], 1)], 1)], 1), _c('div', {\n    staticClass: \"form-buttons\"\n  }, [_c('mt-button', {\n    staticClass: \"mint-button-block\",\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    }\n  }, [_vm._v(\"下一步\")])], 1)])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-7a0ff6be\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-7a0ff6be!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/account/ChangeBankCardStep1.vue\n// module id = 422\n// module chunks = 4","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep1.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3019aa7e\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep1.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":false,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep1.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":false,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-7a0ff6be!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/account/ChangeBankCardStep1.vue\n// module id = 437\n// module chunks = 4"],"sourceRoot":""}