{"version":3,"sources":["webpack:///List.vue","webpack:///./src/views/bank/List.vue","webpack:///./src/views/common_mixin.js?e091***","webpack:///./src/views/bank/List.vue?7d49","webpack:///./src/views/bank/fb-bank-cards.scss","webpack:///./src/views/bank/fb-bank-cards.scss?b08a","webpack:///./src/views/bank/List.vue?48c2","webpack:///./src/views/bank/List.vue?71c4"],"names":["bankNameIconList","name","icon","bankMixins","methods","getBankIcon","bank","find","indexOf","v","showSupportBanks","bankCards","$store","getters","supportBankCards","length","$msgBox","join","get","then","res","json","data","commit","mapActions","getBank","validation","isPassed","setTimeout","bankCardInfo","cardNo","model","bankCard","code","RET_CODE_MAP","OK","bankName","bankCode","bankCardNotSupported","BANK_CARD_NOT_SUPPORTED","$validate","toGetMsgCode","validatePhoneModel","success","getMsgCode","phone","label","$route","meta","captchaSendType","countdownVisible","$refs","fnCountdown","start","$toast","firstError","onCountdownOver","watch","bankCardForShow","replace"],"mappings":";;;;;;;;;;;;;;;;;;;;AAuBA;AACA;AACA;AACA;;AAEA;WAEA;;AACA;;;;;;;;;;2BACA;;;;;;iCACA;+BACA;wDACA;;8BACA;;yDACA;+EACA;AACA;AACA;;;;;;;;;AAEA;;;;gDAEA;;cAEA;;cAIA;AAHA;AAFA;AAQA;AAVA;;;AAWA;;+BACA;uEACA;uBACA;AACA,wGACA;qBACA;gCACA;oGACA;0BACA;2CACA;sKACA;AACA;AACA;AACA;AACA;AACA;AAEA;wBACA;;yBAEA;iBAEA;AAHA;AAIA;AAjDA,G;;;;;;;;AC5BA;AACA,0BAAyM;AACzM,0BAAqN;;AAErN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;;;;;;;;;;;;;;;;;AChCA;AACA;AACA;AACA;;AAEA,IAAMA,mBAAmB,CAAC;AACxBC,QAAM,IADkB;AAExBC,QAAM;AAFkB,CAAD,EAGtB;AACDD,QAAM,MADL;AAEDC,QAAM;AAFL,CAHsB,EAMtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CANsB,EAStB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CATsB,EAYtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAZsB,EAetB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAfsB,EAkBtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAlBsB,EAqBtB;AACDD,QAAM,MADL;AAEDC,QAAM;AAFL,CArBsB,EAwBtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAxBsB,EA2BtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CA3BsB,EA8BtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CA9BsB,EAiCtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAjCsB,EAoCtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CApCsB,EAuCtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAvCsB,EA0CtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CA1CsB,EA6CtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CA7CsB,EAgDtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAhDsB,EAmDtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAnDsB,EAsDtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAtDsB,EAyDtB;AACDD,QAAM,IADL;AAEDC,QAAM;AAFL,CAzDsB,CAAzB;;AA8DA,IAAMC,aAAa;AACjBC,WAAS;AAEPC,eAFO,uBAEKJ,IAFL,EAEW;AAChB,UAAMK,OAAO,mEAAAC,CAAKP,gBAAL,EAAuB;AAAA,eAAK,CAACC,KAAKO,OAAL,CAAaC,EAAER,IAAf,CAAN;AAAA,OAAvB,CAAb;AACA,aAAO,CAACK,OAAOA,KAAKJ,IAAZ,GAAmB,EAApB,IAA0B,SAAjC;AACD,KALM;AAODQ,oBAPC,8BAOkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACjBC,yBADiB,GACL,MAAKC,MAAL,CAAYC,OAAZ,CAAoBC,gBADf;;AAAA,qBAEnBH,UAAUI,MAFS;AAAA;AAAA;AAAA;;AAGrB,sBAAKC,OAAL,CAAa,SAAb,EAAwBL,UAAUM,IAAV,CAAe,GAAf,CAAxB;AAHqB;AAAA;;AAAA;AAAA;AAAA,uBAKF,8EAAAH,CAAiBI,GAAjB,GAAuBC,IAAvB,CAA4B;AAAA,yBAAOC,IAAIC,IAAJ,EAAP;AAAA,iBAA5B,CALE;;AAAA;AAKfC,oBALe;;AAMrB,sBAAKV,MAAL,CAAYW,MAAZ,CAAmB,wBAAnB,EAA6CD,KAAKA,IAAlD;AACA,sBAAKN,OAAL,CAAa,SAAb,EAAwBM,KAAKA,IAAL,CAAUL,IAAV,CAAe,GAAf,CAAxB;;AAPqB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASxB;AAhBM;AADQ,CAAnB;;AAqBA;;AAEA,yDAAe;AACbb,WAAA,qEAAAA,KACK,+EAAAoB,CAAW,CAAC,YAAD,CAAX,CADL,EAEKrB,WAAWC,OAFhB;AAIQqB,WAJR,qBAIkB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AACd,oBAAI,OAAKC,UAAL,CAAgBC,QAAhB,CAAyB,gBAAzB,CAAJ,EAAgD;AAC9CC,6BAAA,8EAAAA,CAAA,iEAAAA,MAAW;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mCACU,0EAAAC,CAAaX,GAAb,CAAiB;AAClCY,sCAAQ,OAAKC,KAAL,CAAWC;AADe,6BAAjB,EAEhBb,IAFgB,CAEX;AAAA,qCAAOC,IAAIC,IAAJ,EAAP;AAAA,6BAFW,CADV;;AAAA;AACHC,gCADG;;AAIT,gCAAIA,KAAKW,IAAL,KAAc,mEAAAC,CAAaC,EAA/B,EAAmC;AACjC,qCAAKJ,KAAL,CAAWK,QAAX,GAAsBd,KAAKA,IAAL,CAAUc,QAAhC;AACA,qCAAKL,KAAL,CAAWM,QAAX,GAAsBf,KAAKA,IAAL,CAAUe,QAAhC;AACD,6BAHD,MAGO;AACL,qCAAKN,KAAL,CAAWK,QAAX,GAAsB,MAAtB;AACA,qCAAKL,KAAL,CAAWM,QAAX,GAAsB,EAAtB;AACD;AACD,mCAAKC,oBAAL,GAA4BhB,KAAKW,IAAL,KAAc,mEAAAC,CAAaK,uBAAvD;AACA,mCAAKC,SAAL,CAAe,gBAAf;;AAZS;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBAAX,IAaG,GAbH;AAcD;;AAhBa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAiBf,KArBH;AAwBQC,gBAxBR,0BAwBuB;AAAA;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,uBACG,OAAKD,SAAL,CAAe,OAAKE,kBAApB,CADH;;AAAA;AACbC,uBADa;;AAAA,qBAEfA,OAFe;AAAA;AAAA;AAAA;;AAAA;AAAA,uBAGE,OAAKC,UAAL,CAAgB;AACjCC,yBAAO,kEAAA3B,SAAU,OAAKwB,kBAAf,CAD0B;AAEjCI,yBAAO,OAAKC,MAAL,CAAYC,IAAZ,CAAiBC,eAAjB,IAAoC;AAFV,iBAAhB,CAHF;;AAAA;AAGX3B,oBAHW;;AAOjB,oBAAIA,KAAKW,IAAL,KAAc,mEAAAC,CAAaC,EAA/B,EAAmC;AACjC,yBAAKe,gBAAL,GAAwB,IAAxB;AACA,yBAAKC,KAAL,CAAWC,WAAX,CAAuBC,KAAvB;AACD;AAVgB;AAAA;;AAAA;AAYjB,uBAAKC,MAAL,CAAY,OAAK5B,UAAL,CAAgB6B,UAAhB,CAA2B,OAAKb,kBAAhC,CAAZ,EAAiE,OAAjE;;AAZiB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAcpB,KAtCH;AAyCEc,mBAzCF,6BAyCoB;AAChB,WAAKN,gBAAL,GAAwB,KAAxB;AACD;AA3CH,IADa;;AA+CbO,SAAO;AAEL,qBAFK,6BAEgB;AACnB,WAAK1B,KAAL,CAAWC,QAAX,GAAsB,KAAK0B,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,OAArB,CAA6B,KAA7B,EAAoC,EAApC,CAA7C;AACA,WAAKD,eAAL,GAAuB,KAAKA,eAAL,CAAqBC,OAArB,CAA6B,qBAA7B,EAAoD,KAApD,CAAvB;AACD,KALI;AAML,oBANK,2BAMe;AAClB,WAAKrB,oBAAL,GAA4B,KAA5B;AACD;AARI,GA/CM;;AA0DbhB,MA1Da,kBA0DN;AACL,WAAO;AACLoC,uBAAiB,EADZ;AAELpB,4BAAsB,KAFjB;AAGLI,0BAAoB,YAHf;AAILQ,wBAAkB;AAJb,KAAP;AAMD;AAjEY,CAAf,E;;;;;;;AC1FA;AACA;;;AAGA;AACA,4DAA6D,sBAAsB,GAAG,UAAU,oIAAoI,MAAM,YAAY,kOAAkO,sBAAsB,GAAG,qBAAqB;;AAEtgB;;;;;;;;ACPA;AACA;;;AAGA;AACA,yDAA0D,oBAAoB,uBAAuB,uBAAuB,sBAAsB,mBAAmB,mBAAmB,mFAAmF,8BAA8B,iCAAiC,6BAA6B,GAAG,0CAA0C,6BAA6B,GAAG,uCAAuC,0BAA0B,GAAG,mCAAmC,uBAAuB,yBAAyB,GAAG,oCAAoC,8BAA8B,GAAG,kCAAkC,kBAAkB,GAAG,wCAAwC,0BAA0B,oBAAoB,qBAAqB,gBAAgB,mBAAmB,GAAG,+DAA+D,8BAA8B,0BAA0B,GAAG,oCAAoC,mBAAmB,GAAG,mCAAmC,0BAA0B,GAAG,yBAAyB,0BAA0B,yBAAyB,kBAAkB,gCAAgC,+BAA+B,gCAAgC,GAAG,gCAAgC,wBAAwB,GAAG,0CAA0C,kBAAkB,mBAAmB,GAAG,2BAA2B,0BAA0B,yBAAyB,kBAAkB,gCAAgC,+BAA+B,gCAAgC,uBAAuB,oBAAoB,qBAAqB,oBAAoB,GAAG,8BAA8B,sBAAsB,sBAAsB,sBAAsB,sBAAsB,0BAA0B,GAAG,6BAA6B,uBAAuB,8BAA8B,kBAAkB,GAAG,UAAU,0OAA0O,KAAK,YAAY,aAAa,aAAa,aAAa,WAAW,UAAU,YAAY,aAAa,aAAa,aAAa,MAAM,MAAM,YAAY,MAAM,KAAK,aAAa,MAAM,MAAM,aAAa,aAAa,MAAM,MAAM,aAAa,MAAM,MAAM,WAAW,KAAK,MAAM,aAAa,YAAY,YAAY,WAAW,YAAY,OAAO,MAAM,cAAc,eAAe,OAAO,MAAM,aAAa,OAAO,MAAM,cAAc,OAAO,MAAM,YAAY,WAAW,UAAU,YAAY,aAAa,aAAa,MAAM,MAAM,aAAa,MAAM,MAAM,WAAW,UAAU,KAAK,MAAM,YAAY,WAAW,UAAU,YAAY,aAAa,aAAa,aAAa,YAAY,YAAY,YAAY,MAAM,MAAM,YAAY,UAAU,UAAU,YAAY,aAAa,MAAM,MAAM,aAAa,aAAa,aAAa,8FAA8F,kBAAkB,mBAAmB,8BAA8B,yBAAyB,yBAAyB,wBAAwB,qBAAqB,qBAAqB,iGAAiG,gCAAgC,mCAAmC,+BAA+B,mBAAmB,+BAA+B,OAAO,gBAAgB,sCAAsC,OAAO,UAAU,yBAAyB,2BAA2B,OAAO,KAAK,gBAAgB,gBAAgB,4CAA4C,OAAO,KAAK,qBAAqB,oBAAoB,KAAK,2BAA2B,4BAA4B,sBAAsB,uBAAuB,kBAAkB,4BAA4B,KAAK,gDAAgD,uCAAuC,mCAAmC,KAAK,uBAAuB,4BAA4B,KAAK,sBAAsB,mCAAmC,KAAK,YAAY,oBAAoB,0BAA0B,KAAK,mBAAmB,0BAA0B,iBAAiB,oBAAoB,qBAAqB,OAAO,KAAK,cAAc,oBAAoB,0BAA0B,yBAAyB,UAAU,gBAAgB,gCAAgC,4BAA4B,OAAO,sBAAsB,uBAAuB,sBAAsB,SAAS,yBAAyB,gCAAgC,uBAAuB,iCAAiC,OAAO,KAAK,GAAG,kDAAkD,kCAAkC,sCAAsC,oCAAoC,mCAAmC,8BAA8B,iCAAiC,iCAAiC,sCAAsC,4BAA4B,2BAA2B,6BAA6B,8BAA8B,4BAA4B,+CAA+C,uBAAuB,sBAAsB,qBAAqB,qBAAqB,sBAAsB,uBAAuB,wBAAwB,2BAA2B,8BAA8B,6BAA6B,GAAG,0BAA0B,8BAA8B,6BAA6B,GAAG,4CAA4C,8DAA8D,0BAA0B,yBAAyB,qBAAqB,sBAAsB,sBAAsB,mBAAmB,qBAAqB,2BAA2B,iCAAiC,sBAAsB,2BAA2B,kCAAkC,mBAAmB,yBAAyB,+BAA+B,mBAAmB,0BAA0B,qBAAqB;;AAEliM;;;;;;;;ACPA;;AAEA;AACA,wCAAuQ;AACvQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,yDAAyD,uHAAuH,mBAAmB;AACtQ,4EAA4E,yDAAyD,uHAAuH,mBAAmB;AAC/Q;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA;;AAEA;AACA,wCAAmR;AACnR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,yDAAyD,mIAAmI,mBAAmB;AAClR,4EAA4E,yDAAyD,mIAAmI,mBAAmB;AAC3R;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C;;;;;;;ACpBA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA,KAAK;AACL;AACA,KAAK;AACL,GAAG;AACH;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C","file":"static/js/5.js","sourcesContent":["<template lang=\"pug\">\n  .fb-bank-cards\n    .cells\n      mt-cell(v-for=\"bankCard in bankCards\", :key=\"bankCard.id\", is-link, @click.native=\"goToDetail(bankCard.id)\")\n        div(slot=\"title\")\n          .content\n            .content-icon\n              fb-icon(:name=\"getBankIcon(bankCard.bankName)\")\n            .content-body\n              .title\n                h3 {{bankCard.bankName}}\n              p {{bankCard.bankCard}}\n          label.mint-radiolist-label(@click.stop=\"\")\n            span.mint-radio\n              input.mint-radio-input(type='radio', :value=\"bankCard.id\", v-model=\"defaultBankCardId\")\n              span.mint-radio-core\n            span.mint-radio-label 设为默认\n    router-link.add-bankcard(:class=\"{'no-border': !bankCards.length}\", :to=\"{name: 'addBankStep1', params: {transitionName: 'slideRightFade'}}\")\n      em +\n      | 添加银行卡\n</template>\n\n<script>\nimport { bankCards, bankCardDefault } from '@/common/resources.js'\nimport { find, merge } from 'lodash'\nimport { bankMixins } from '@/views/common_mixin.js'\nimport { RET_CODE_MAP } from '@/constants.js'\n\nexport default {\n  mixins: [bankMixins],\n  async beforeRouteEnter(to, from, next) {\n    const data = await bankCards.get().then(res => res.json())\n    next(vm => {\n      if (data.data) {\n        vm.bankCards = data.data.bankCards || []\n        const defaultBankCard = find(vm.bankCards, bd => bd.isDefault)\n        vm.defaultBankCardId = defaultBankCard.id\n        vm.$store.commit('updateBankCardsCount', data.data.bankCards.length)\n      }\n    })\n  },\n\n  methods: {\n    goToDetail(bankCardId) {\n      this.$router.push({\n        name: 'bankDetail',\n        params: {\n          id: bankCardId\n        }\n      })\n    }\n  },\n\n  mounted() {\n    this.$nextTick(() => {\n      this.$watch('defaultBankCardId', (newValue, oldValue) => {\n        if (!oldValue) return\n        bankCardDefault\n          .save({ id: this.defaultBankCardId })\n          .then(res => res.json())\n          .then(data => {\n            if (data.code === RET_CODE_MAP.OK) {\n              this.$toast('默认银行卡变更成功！')\n              if (this.$route.params.from) {\n                this.$router.push(merge({ params: { fromDefaultBankSet: true } }, this.$route.params.from))\n              }\n            }\n          })\n      })\n    })\n  },\n\n  data() {\n    return {\n      defaultBankCardId: '',\n      bankCards: []\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\" src=\"@/views/bank/fb-bank-cards.scss\"></style>\n<style lang=\"scss\" scoped>\n.fb-bank-cards {\n  padding-top: 10px;\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// List.vue?74978a07","\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-2a814131!sass-loader?{\\\"sourceMap\\\":true}!@/views/bank/fb-bank-cards.scss\")\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-2a814131&scoped=true!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=1!./List.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./List.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-2a814131!../../../node_modules/vue-loader/lib/template-loader?raw&engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./List.vue\"),\n  /* scopeId */\n  \"data-v-2a814131\",\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/bank/List.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] List.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-2a814131\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-2a814131\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/bank/List.vue\n// module id = 3kq8\n// module chunks = 5","import { RET_CODE_MAP } from '@/constants.js'\nimport { mapActions } from 'vuex'\nimport { bankCardInfo, supportBankCards } from '@/common/resources.js'\nimport { get, find } from 'lodash'\n\nconst bankNameIconList = [{\n  name: '农业',\n  icon: 'nongye'\n}, {\n  name: '中国银行',\n  icon: 'zhongguo'\n}, {\n  name: '兴业',\n  icon: 'nongye'\n}, {\n  name: '工商',\n  icon: 'gongshang'\n}, {\n  name: '建设',\n  icon: 'jianshen'\n}, {\n  name: '交通',\n  icon: 'jiaotong'\n}, {\n  name: '北京',\n  icon: 'beijing'\n}, {\n  name: '民生银行',\n  icon: 'minsheng'\n}, {\n  name: '光大',\n  icon: 'guangda'\n}, {\n  name: '上海',\n  icon: 'shanghai'\n}, {\n  name: '中信',\n  icon: 'zhongxin'\n}, {\n  name: '浙商',\n  icon: 'zheshang'\n}, {\n  name: '邮政',\n  icon: 'youzhengchuxu'\n}, {\n  name: '华夏',\n  icon: 'huaxia'\n}, {\n  name: '渤海',\n  icon: 'bohai'\n}, {\n  name: '平安',\n  icon: 'pingan'\n}, {\n  name: '恒丰',\n  icon: 'hengfeng'\n}, {\n  name: '浦发',\n  icon: 'pufa'\n}, {\n  name: '招商',\n  icon: 'zhaoshang'\n}, {\n  name: '广发',\n  icon: 'guangfa'\n}]\n\nconst bankMixins = {\n  methods: {\n    // 利用银行名称模糊匹配icon\n    getBankIcon(name) {\n      const bank = find(bankNameIconList, v => ~name.indexOf(v.name))\n      return (bank ? bank.icon : '') + 'yinhang'\n    },\n\n    async showSupportBanks() {\n      const bankCards = this.$store.getters.supportBankCards\n      if (bankCards.length) {\n        this.$msgBox('支持银行列表：', bankCards.join('、'))\n      } else {\n        const data = await supportBankCards.get().then(res => res.json())\n        this.$store.commit('updateSupportBankCards', data.data)\n        this.$msgBox('支持银行列表：', data.data.join('、'))\n      }\n    }\n  }\n}\n\nexport { bankMixins }\n\nexport default {\n  methods: {\n    ...mapActions(['getMsgCode']),\n    ...bankMixins.methods,\n    // 获取银行卡开户行\n    async getBank() {\n      if (this.validation.isPassed('model.bankCard')) {\n        setTimeout(async() => {\n          const data = await bankCardInfo.get({\n            cardNo: this.model.bankCard\n          }).then(res => res.json())\n          if (data.code === RET_CODE_MAP.OK) {\n            this.model.bankName = data.data.bankName\n            this.model.bankCode = data.data.bankCode\n          } else {\n            this.model.bankName = '自动生成'\n            this.model.bankCode = ''\n          }\n          this.bankCardNotSupported = data.code === RET_CODE_MAP.BANK_CARD_NOT_SUPPORTED\n          this.$validate('model.bankCard')\n        }, 100) // 异步执行避免影响到点击清除的功能\n      }\n    },\n\n    // 获取验证码\n    async toGetMsgCode() {\n      const success = await this.$validate(this.validatePhoneModel)\n      if (success) {\n        const data = await this.getMsgCode({\n          phone: get(this, this.validatePhoneModel),\n          label: this.$route.meta.captchaSendType || ''\n        })\n        if (data.code === RET_CODE_MAP.OK) {\n          this.countdownVisible = true\n          this.$refs.fnCountdown.start()\n        }\n      } else {\n        this.$toast(this.validation.firstError(this.validatePhoneModel), 'error')\n      }\n    },\n\n    // 定时器结束 隐藏定时器\n    onCountdownOver() {\n      this.countdownVisible = false\n    }\n  },\n\n  watch: {\n    // 空格分隔的银行卡号\n    'bankCardForShow' () {\n      this.model.bankCard = this.bankCardForShow = this.bankCardForShow.replace(/\\s/g, '')\n      this.bankCardForShow = this.bankCardForShow.replace(/\\d{4}(?=(\\d{1,4}))/g, '$& ') //展示空格分隔的银行卡号\n    },\n    'model.bankCard' () {\n      this.bankCardNotSupported = false // 重新输入银行卡后，不支持的状态重置为false，避免影响到再次获取银行卡信息的逻辑\n    }\n  },\n\n  data() {\n    return {\n      bankCardForShow: '',\n      bankCardNotSupported: false,\n      validatePhoneModel: 'user.phone', // 获取验证码前验证手机号\n      countdownVisible: false\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/common_mixin.js","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.fb-bank-cards[data-v-2a814131] {\\n  padding-top: 10px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/bank/src/views/bank/List.vue\"],\"names\":[],\"mappings\":\";AAmFA;EACE,kBAAiB;CAClB\",\"file\":\"List.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.fb-bank-cards {\\n  padding-top: 10px;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-2a814131&scoped=true!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/views/bank/List.vue\n// module id = GmJm\n// module chunks = 5","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.fb-bank-cards .add-bankcard {\\n  font-size: 15px;\\n  padding: 15px 10px;\\n  text-align: center;\\n  background: white;\\n  color: inherit;\\n  display: block;\\n  background-image: linear-gradient(0deg, #d9d9d9, #d9d9d9 50%, transparent 50%);\\n  background-size: 100% 1px;\\n  background-repeat: no-repeat;\\n  background-position: top;\\n}\\n.fb-bank-cards .add-bankcard.no-border {\\n    background-image: none;\\n}\\n.fb-bank-cards .add-bankcard:active {\\n    background: #f2f2f2;\\n}\\n.fb-bank-cards .add-bankcard em {\\n    font-size: 1.2em;\\n    margin-right: .2em;\\n}\\n.fb-bank-cards .mint-cell:active {\\n  background-color: #f2f2f2;\\n}\\n.fb-bank-cards .mint-cell-mask {\\n  display: none;\\n}\\n.fb-bank-cards .mint-radiolist-label {\\n  padding: 0 0 12px 2px;\\n  font-size: 14px;\\n  margin-top: -5px;\\n  float: left;\\n  color: #4790fe;\\n}\\n.fb-bank-cards .mint-radio-input:checked + .mint-radio-core {\\n  background-color: #4790fe;\\n  border-color: #4790fe;\\n}\\n.fb-bank-cards .mint-radio-label {\\n  color: #4790fe;\\n}\\n.fb-bank-cards .mint-radio-core {\\n  border-color: #4790fe;\\n}\\n.fb-bank-cards .title {\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-align-items: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n.fb-bank-cards .content-icon {\\n  padding-right: 19px;\\n}\\n.fb-bank-cards .content-icon .icon-svg {\\n    width: 39px;\\n    height: 39px;\\n}\\n.fb-bank-cards .content {\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-align-items: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n  line-height: 1.8em;\\n  font-size: 14px;\\n  overflow: hidden;\\n  padding: 10px 0;\\n}\\n.fb-bank-cards .content h3 {\\n    -webkit-flex: 1;\\n        -ms-flex: 1;\\n            flex: 1;\\n    font-size: 15px;\\n    font-weight: normal;\\n}\\n.fb-bank-cards .content p {\\n    overflow: hidden;\\n    text-overflow: ellipsis;\\n    color: #666;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/bank/src/views/bank/fb-bank-cards.scss\",\"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/bank/src/assets/scss/_variables.scss\"],\"names\":[],\"mappings\":\";AACA;EAEI,gBCiBc;EDhBd,mBAAkB;EAClB,mBAAkB;EAClB,kBAAiB;EACjB,eAAc;EACd,eAAc;EACd,+EAA0F;EAC1F,0BAAyB;EACzB,6BAA4B;EAC5B,yBAAwB;CAWzB;AAtBH;IAaM,uBAAsB;CACvB;AAdL;IAgBM,oBAA6B;CAC9B;AAjBL;IAmBM,iBAAgB;IAChB,mBAAkB;CACnB;AArBL;EAyBM,0BAAmC;CACpC;AA1BL;EA6BI,cAAa;CACd;AA9BH;EAgCI,sBAAqB;EACrB,gBAAe;EACf,iBAAgB;EAChB,YAAW;EACX,eChCmB;CDiCpB;AArCH;EAuCI,0BCnCmB;EDoCnB,sBCpCmB;CDqCpB;AAzCH;EA2CI,eCvCmB;CDwCpB;AA5CH;EA8CI,sBC1CmB;CD2CpB;AA/CH;EAiDI,sBAAa;EAAb,qBAAa;EAAb,cAAa;EACb,4BAAmB;MAAnB,uBAAmB;UAAnB,oBAAmB;CACpB;AAnDH;EAqDI,oBAAmB;CAKpB;AA1DH;IAuDM,YAAW;IACX,aAAY;CACb;AAzDL;EA4DI,sBAAa;EAAb,qBAAa;EAAb,cAAa;EACb,4BAAmB;MAAnB,uBAAmB;UAAnB,oBAAmB;EACnB,mBAAkB;EAMlB,gBAAe;EACf,iBAAgB;EAChB,gBAAe;CAMhB;AA5EH;IAgEM,gBAAO;QAAP,YAAO;YAAP,QAAO;IACP,gBC9CY;ID+CZ,oBAAmB;CACpB;AAnEL;IAwEM,iBAAgB;IAChB,wBAAuB;IACvB,YCzEiB;CD0ElB\",\"file\":\"fb-bank-cards.scss\",\"sourcesContent\":[\"@import '~assets/scss/_variables.scss';\\n.fb-bank-cards {\\n  .add-bankcard {\\n    font-size: $font-size-m;\\n    padding: 15px 10px;\\n    text-align: center;\\n    background: white;\\n    color: inherit;\\n    display: block;\\n    background-image: linear-gradient(0deg, $border-color, $border-color 50%, transparent 50%);\\n    background-size: 100% 1px;\\n    background-repeat: no-repeat;\\n    background-position: top;\\n    &.no-border {\\n      background-image: none;\\n    }\\n    &:active {\\n      background: darken(white, 5%);\\n    }\\n    em {\\n      font-size: 1.2em;\\n      margin-right: .2em;\\n    }\\n  }\\n  .mint-cell {\\n    &:active {\\n      background-color: darken(white, 5%);\\n    }\\n  }\\n  .mint-cell-mask {\\n    display: none;\\n  }\\n  .mint-radiolist-label {\\n    padding: 0 0 12px 2px;\\n    font-size: 14px;\\n    margin-top: -5px;\\n    float: left;\\n    color: $primary-color;\\n  }\\n  .mint-radio-input:checked+.mint-radio-core {\\n    background-color: $primary-color;\\n    border-color: $primary-color;\\n  }\\n  .mint-radio-label {\\n    color: $primary-color;\\n  }\\n  .mint-radio-core {\\n    border-color: $primary-color;\\n  }\\n  .title {\\n    display: flex;\\n    align-items: center;\\n  }\\n  .content-icon {\\n    padding-right: 19px;\\n    .icon-svg {\\n      width: 39px;\\n      height: 39px;\\n    }\\n  }\\n  .content {\\n    display: flex;\\n    align-items: center;\\n    line-height: 1.8em;\\n    h3 {\\n      flex: 1;\\n      font-size: $font-size-m;\\n      font-weight: normal;\\n    }\\n    font-size: 14px;\\n    overflow: hidden;\\n    padding: 10px 0;\\n    p {\\n      overflow: hidden;\\n      text-overflow: ellipsis; // padding-left: 11px;\\n      color: $minor-font-color;\\n    }\\n  }\\n}\\n\",\"// ----- 颜色 -----\\n$primary-font-color: #333; // 文字颜色\\n$minor-font-color: #666; // 文字次颜色\\n$primary-bg-color: #efeff4; // 主要背景色\\n$minor-bg-color: #eeefef; // 次要背景色\\n$primary-color: #4790fe; // 主色\\n$error-color: #f44336; // 错误色\\n$warning-color: #ffc107; // 警告色\\n$font-color-em: #3586ff; // 强调字体颜色，偏蓝\\n$border-color: #d9d9d9; // 边框颜色\\n$gray-color: #888;\\n$mid-gray-color: #a0a0a0;\\n$small-gray-color: #fafafa;\\n$placeholder-color: #b2b2b2;\\n$header-bg-color: #1c1c1f;\\n\\n// ----- 文字尺寸 -----\\n$font-size-xxxl: 25px;\\n$font-size-xxl: 20px;\\n$font-size-xl: 17px;\\n$font-size-m: 15px;\\n$font-size-s: 14px;\\n$font-size-xs: 13px;\\n$font-size-xxs: 12px;\\n$font-size-xxxs: 10px;\\n\\n@mixin font-size-xxxs {\\n  font-size: $font-size-xxs;\\n  transform: scale(0.9167);\\n}\\n@mixin font-size-xxxxs {\\n  font-size: $font-size-xxs;\\n  transform: scale(0.8333);\\n}\\n\\n// ----- 尺寸 -----\\n$header-height: 40px; // 头部高度\\n\\n// ----- mint ui color颜色 -----\\n$el-blue: #20A0FF;\\n$el-light-blue: #58B7FF;\\n$el-dark-blue: #1D8CE0;\\n$el-green: #13CE66;\\n$el-orange: #df9a51;\\n$el-yellow: #ffcc00;\\n$el-red: #fe6252;\\n$el-black: #1F2D3D;\\n$el-light-black: #324057;\\n$el-extra-light-black: #475669;\\n$el-silver: #8492A6;\\n$el-light-silver:#99A9BF;\\n$el-extra-light-silver: #C0CCDA;\\n$el-gray:#D3DCE6;\\n$el-light-gray:#E5E9F2;\\n$el-extra-light-gray:#EFF2F7;\\n$el-white: white;\\n$el-dark-white: #F9FAFC;\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-2a814131!./~/sass-loader?{\"sourceMap\":true}!./src/views/bank/fb-bank-cards.scss\n// module id = T4mc\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a814131!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!./fb-bank-cards.scss\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"ecd22a4a\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a814131!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!./fb-bank-cards.scss\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a814131!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!./fb-bank-cards.scss\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-2a814131!./~/sass-loader?{\"sourceMap\":true}!./src/views/bank/fb-bank-cards.scss\n// module id = X4WH\n// module chunks = 5","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a814131&scoped=true!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./List.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"704d5ef5\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a814131&scoped=true!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./List.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-2a814131&scoped=true!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=1!./List.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-2a814131&scoped=true!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=1!./src/views/bank/List.vue\n// module id = i7D+\n// module chunks = 5","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"fb-bank-cards\"\n  }, [_c('div', {\n    staticClass: \"cells\"\n  }, _vm._l((_vm.bankCards), function(bankCard) {\n    return _c('mt-cell', {\n      key: bankCard.id,\n      attrs: {\n        \"is-link\": \"is-link\"\n      },\n      nativeOn: {\n        \"click\": function($event) {\n          _vm.goToDetail(bankCard.id)\n        }\n      }\n    }, [_c('div', {\n      slot: \"title\"\n    }, [_c('div', {\n      staticClass: \"content\"\n    }, [_c('div', {\n      staticClass: \"content-icon\"\n    }, [_c('fb-icon', {\n      attrs: {\n        \"name\": _vm.getBankIcon(bankCard.bankName)\n      }\n    })], 1), _c('div', {\n      staticClass: \"content-body\"\n    }, [_c('div', {\n      staticClass: \"title\"\n    }, [_c('h3', [_vm._v(_vm._s(bankCard.bankName))])]), _c('p', [_vm._v(_vm._s(bankCard.bankCard))])])]), _c('label', {\n      staticClass: \"mint-radiolist-label\",\n      on: {\n        \"click\": function($event) {\n          $event.stopPropagation();\n        }\n      }\n    }, [_c('span', {\n      staticClass: \"mint-radio\"\n    }, [_c('input', {\n      directives: [{\n        name: \"model\",\n        rawName: \"v-model\",\n        value: (_vm.defaultBankCardId),\n        expression: \"defaultBankCardId\"\n      }],\n      staticClass: \"mint-radio-input\",\n      attrs: {\n        \"type\": \"radio\"\n      },\n      domProps: {\n        \"value\": bankCard.id,\n        \"checked\": _vm._q(_vm.defaultBankCardId, bankCard.id)\n      },\n      on: {\n        \"__c\": function($event) {\n          _vm.defaultBankCardId = bankCard.id\n        }\n      }\n    }), _c('span', {\n      staticClass: \"mint-radio-core\"\n    })]), _c('span', {\n      staticClass: \"mint-radio-label\"\n    }, [_vm._v(\"设为默认\")])])])])\n  })), _c('router-link', {\n    staticClass: \"add-bankcard\",\n    class: {\n      'no-border': !_vm.bankCards.length\n    },\n    attrs: {\n      \"to\": {\n        name: 'addBankStep1',\n        params: {\n          transitionName: 'slideRightFade'\n        }\n      }\n    }\n  }, [_c('em', [_vm._v(\"+\")]), _vm._v(\"添加银行卡\")])], 1)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-2a814131\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-2a814131!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/bank/List.vue\n// module id = rt8h\n// module chunks = 5"],"sourceRoot":""}