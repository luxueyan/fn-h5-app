{"version":3,"sources":["webpack:///./src/views/account/ChangeBankCardStep2.vue","webpack:///./src/common/adaptors.js?23ef","webpack:///./src/views/validator_mixin.js?9d68","webpack:///./src/common/clickoutside.js?3a0f","webpack:///./src/views/common_mixin.js?e091","webpack:///FbField.vue?2210","webpack:///./~/babel-runtime/core-js/object/keys.js?fe06","webpack:///./~/core-js/library/fn/object/keys.js?cc3f","webpack:///./~/core-js/library/modules/_object-sap.js?a03e","webpack:///./~/core-js/library/modules/es6.object.keys.js?c98f","webpack:///./src/components/FbField.vue?b566","webpack:///./src/components/FbField.vue?f006*","webpack:///ChangeBankCardStep2.vue","webpack:///./src/views/account/ChangeBankCardStep2.vue?97e6","webpack:///./src/views/account/ChangeBankCardStep2.vue?ade7","webpack:///./src/views/account/ChangeBankCardStep2.vue?b5e8"],"names":["contractInfo","data","idCard","Idcard","cardName","Cardname","bankCard","Bankcard","bankPhone","Bankphone","bank","Bankname","loanAmount","Loanamount","totalAmount","Totalamount","endDate","moment","Enddate","format","startDate","Startdate","Validator","SimpleVueValidation","methods","validate","value","getFieldState","field","validation","hasError","isPassed","showFieldError","event","et","target","classList","contains","parentNode","$toast","firstError","clickoutsideContext","bind","el","binding","vnode","documentHandler","e","context","methodName","expression","arg","document","addEventListener","update","unbind","removeEventListener","install","Vue","directive","showSupportBanks","$messagebox"],"mappings":"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ACA;0BACA;AAEA;;;;iBAEA;;AACA;;mCACA;uDACA;uCACA;+BACA;;iDACA;;AACA;AACA;AAGA;AAZA;AATA;AApDA,G;;;;;;;AC5DA,kBAAkB,yD;;;;;;;ACAlB;AACA,oD;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA,8BAA8B;AAC9B;AACA;AACA,mDAAmD,OAAO,EAAE;AAC5D,E;;;;;;;ACTA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC,E;;;;;;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+EAA+E,iDAAiD,IAAI;AACpI,mCAAmC;;AAEnC;AACA,YAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA,CAAC;;AAED;;;;;;;;AC3BA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;;;;;;;;;;;;;;;;;;;;AC/EA;AACA;AACA;AAKA;AAGA;AAGA;AAGA;AAIA;;AAEA;iFAEA;;AAGA;AAFA;8DAGA;;iBACA;4BACA;gIACA;yBACA;+BACA;sCACA;sFACA;+CACA;uCAIA;AACA;AACA;AACA;AAEA;;;;oDAEA;2CACA,8BACA;iHACA;iBACA;AACA;AACA;AACA;sDACA;+FACA;AACA;oDACA;kCACA;AAGA;AAhBA;;;kDAkBA;uFACA;iFACA;AAGA;AANA;;AAOA,wKAEA;;AACA;;sDACA;;+BAEA;AADA;;gCAEA;2CACA;wHACA;AACA;AACA;AACA;;AACA;;qCACA;sCACA;AACA;AAGA;;gCACA;iDACA;wEACA;AACA;iCACA;iDACA;AAEA;;+CACA;qBACA;;;kCACA;qGAEA;;mCAIA;AAHA;;;sBAMA;AAFA;AAGA;AACA;eACA;wDACA;AACA;AACA;AAGA;;;AACA,uKAGA;;wBACA;;4BAEA;uBACA;;kBAEA;mBAEA;AAHA;;kBAKA;mBACA;kBAGA;AALA;AAPA;AAaA;AAlHA,G;;;;;;;ACxCA;AACA;;;AAGA;AACA,2EAA4E,mBAAmB,oBAAoB,eAAe,GAAG,sDAAsD,mBAAmB,oBAAoB,GAAG,2DAA2D,mBAAmB,oBAAoB,GAAG,UAAU,kKAAkK,MAAM,UAAU,WAAW,UAAU,KAAK,KAAK,UAAU,WAAW,MAAM,KAAK,UAAU,WAAW,+YAA+Y,6BAA6B,qBAAqB,sBAAsB,iBAAiB,KAAK,iCAAiC,qBAAqB,sBAAsB,KAAK,sCAAsC,qBAAqB,sBAAsB,KAAK,GAAG,qBAAqB;;AAEtwC;;;;;;;;ACPA,gBAAgB,mBAAmB,aAAa,0BAA0B;AAC1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,OAAO;AACP,oBAAoB,aAAa;AACjC,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;AACA;AACA,sCAAsC,QAAQ;AAC9C;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA,C;;;;;;;AC1GA;;AAEA;AACA,qCAAuQ;AACvQ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mEAAmE,yDAAyD,uHAAuH,mBAAmB;AACtQ,4EAA4E,yDAAyD,uHAAuH,mBAAmB;AAC/Q;AACA;AACA,IAAI;AACJ;AACA;AACA,gCAAgC,UAAU,EAAE;AAC5C,C","file":"static/js/1.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-79f3c7bc!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./ChangeBankCardStep2.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./ChangeBankCardStep2.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-79f3c7bc!../../../node_modules/vue-loader/lib/template-loader?raw&engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./ChangeBankCardStep2.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/views/account/ChangeBankCardStep2.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] ChangeBankCardStep2.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-79f3c7bc\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-79f3c7bc\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/account/ChangeBankCardStep2.vue\n// module id = 376\n// module chunks = 1","import moment from 'moment'\n\n/*后端命名规范目前不统一*/\nexport function contractInfo(data) {\n  return {\n    idCard: data.Idcard,\n    cardName: data.Cardname,\n    // bankName: data.Bankname, // bankName === bank 为了兼容不同的接口\n    bankCard: data.Bankcard,\n    bankPhone: data.Bankphone,\n    bank: data.Bankname,\n    loanAmount: data.Loanamount,\n    totalAmount: data.Totalamount,\n    endDate: moment(data.Enddate).format('YYYY年MM月DD日'),\n    startDate: moment(data.Startdate).format('YYYY年MM月DD日')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/adaptors.js","import SimpleVueValidation from 'simple-vue-validator'\nconst Validator = SimpleVueValidation.Validator\n\nexport default {\n  methods: {\n    Validator,\n    validate: Validator.value,\n    getFieldState(field) {\n      if (this.validation.hasError(field)) {\n        return 'error'\n      } else if (this.validation.isPassed(field)) {\n        return 'success'\n      }\n      return ''\n    },\n    showFieldError(event, field) {\n      const et = event.target\n      if (et.classList.contains('mintui-field-error') && et.parentNode.classList.contains('mint-field-state')) {\n        this.$toast(this.validation.firstError(field), 'error')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/validator_mixin.js","/**\n * v-clickoutside\n * @desc 点击元素外面才会触发的事件\n * @example\n * ```vue\n * <div v-element-clickoutside=\"handleClose\">\n * ```\n */\nconst clickoutsideContext = '@@clickoutsideContext'\n\nexport default {\n  bind(el, binding, vnode) {\n    const documentHandler = function(e) {\n      if (vnode.context && !el.contains(e.target)) {\n        vnode.context[el[clickoutsideContext].methodName]()\n      }\n    }\n    el[clickoutsideContext] = {\n      documentHandler,\n      methodName: binding.expression,\n      arg: binding.arg || 'click'\n    }\n    document.addEventListener(el[clickoutsideContext].arg, documentHandler)\n  },\n\n  update(el, binding) {\n    el[clickoutsideContext].methodName = binding.expression\n  },\n\n  unbind(el) {\n    document.removeEventListener(\n      el[clickoutsideContext].arg,\n      el[clickoutsideContext].documentHandler)\n  },\n\n  install(Vue) {\n    Vue.directive('clickoutside', {\n      bind: this.bind,\n      unbind: this.unbind\n    })\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/clickoutside.js","export default {\n  methods: {\n    showSupportBanks() {\n      this.$messagebox('支持银行列表：', '农业银行、中国银行、工商银行、建设银行、交通银行、兴业银行、中信银行、光大银行、上海银行')\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/common_mixin.js","<template>\n  <mt-cell\n    class=\"mint-field\"\n    :title=\"label\"\n    v-clickoutside=\"doCloseActive\"\n    :class=\"[{\n      'is-textarea': type === 'textarea',\n      'is-nolabel': !label\n    }]\">\n    <template slot=\"title\">\n      <slot name=\"label\"></slot>\n    </template>\n    <textarea\n      @change=\"$emit('change', currentValue)\"\n      ref=\"textarea\"\n      class=\"mint-field-core\"\n      :placeholder=\"placeholder\"\n      v-if=\"type === 'textarea'\"\n      :rows=\"rows\"\n      :disabled=\"disabled\"\n      :readonly=\"readonly\"\n      v-model=\"currentValue\">\n    </textarea>\n    <input\n      @change=\"$emit('change', currentValue)\"\n      ref=\"input\"\n      class=\"mint-field-core\"\n      :placeholder=\"placeholder\"\n      :number=\"type === 'number'\"\n      v-else\n      :type=\"type\"\n      @focus=\"active = true\"\n      :disabled=\"disabled\"\n      :readonly=\"readonly\"\n      :value=\"currentValue\"\n      @input=\"handleInput\">\n    <div\n      @click=\"handleClear\"\n      class=\"mint-field-clear\"\n      v-if=\"!disableClear\"\n      v-show=\"currentValue && type !== 'textarea' && active\">\n      <i class=\"mintui mintui-field-error\"></i>\n    </div>\n    <span class=\"mint-field-state\" v-if=\"state\" :class=\"['is-' + state]\">\n      <i class=\"mintui\" :class=\"['mintui-field-' + state]\"></i>\n    </span>\n    <div class=\"mint-field-other\">\n      <slot></slot>\n    </div>\n  </mt-cell>\n</template>\n\n<script>\nimport {\n  Field,\n  Cell\n} from 'mint-ui'\nimport Clickoutside from '../common/clickoutside.js'\n\nexport default {\n  name: 'fb-field',\n  components: {\n    [Field.name]: Field,\n    [Cell.name]: Cell\n  },\n\n  data() {\n    return {\n      active: false,\n      currentValue: this.value\n    }\n  },\n\n  directives: {\n    Clickoutside\n  },\n\n  props: {\n    type: {\n      type: String,\n      default: 'text'\n    },\n    rows: String,\n    label: String,\n    placeholder: String,\n    readonly: Boolean,\n    disabled: Boolean,\n    disableClear: Boolean,\n    state: {\n      type: String,\n      default: 'default'\n    },\n    value: {},\n    attr: Object\n  },\n\n  methods: {\n    doCloseActive() {\n      this.active = false\n    },\n\n    handleInput(evt) {\n      this.currentValue = evt.target.value\n    },\n\n    handleClear() {\n      if (this.disabled || this.readonly) return\n      this.currentValue = ''\n    }\n  },\n\n  watch: {\n    value(val) {\n      this.currentValue = val\n    },\n\n    currentValue(val) {\n      this.$emit('input', val)\n    },\n\n    attr: {\n      immediate: true,\n      handler(attrs) {\n        this.$nextTick(() => {\n          const target = [this.$refs.input, this.$refs.textarea]\n          target.forEach(el => {\n            if (!el || !attrs) return\n            Object.keys(attrs).map(name => el.setAttribute(name, attrs[name]))\n          })\n        })\n      }\n    }\n  }\n}\n</script>\n\n\n\n// WEBPACK FOOTER //\n// FbField.vue?4edb6410","module.exports = { \"default\": require(\"core-js/library/fn/object/keys\"), __esModule: true };\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/babel-runtime/core-js/object/keys.js\n// module id = 395\n// module chunks = 0 1","require('../../modules/es6.object.keys');\nmodule.exports = require('../../modules/_core').Object.keys;\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/fn/object/keys.js\n// module id = 396\n// module chunks = 0 1","// most Object methods by ES6 should accept primitives\nvar $export = require('./_export')\n  , core    = require('./_core')\n  , fails   = require('./_fails');\nmodule.exports = function(KEY, exec){\n  var fn  = (core.Object || {})[KEY] || Object[KEY]\n    , exp = {};\n  exp[KEY] = exec(fn);\n  $export($export.S + $export.F * fails(function(){ fn(1); }), 'Object', exp);\n};\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/_object-sap.js\n// module id = 397\n// module chunks = 0 1","// 19.1.2.14 Object.keys(O)\nvar toObject = require('./_to-object')\n  , $keys    = require('./_object-keys');\n\nrequire('./_object-sap')('keys', function(){\n  return function keys(it){\n    return $keys(toObject(it));\n  };\n});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/core-js/library/modules/es6.object.keys.js\n// module id = 398\n// module chunks = 0 1","var Component = require(\"!../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../node_modules/vue-loader/lib/selector?type=script&index=0!./FbField.vue\"),\n  /* template */\n  require(\"!!../../node_modules/vue-loader/lib/template-compiler?id=data-v-a4eae24c!../../node_modules/vue-loader/lib/selector?type=template&index=0!./FbField.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/components/FbField.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] FbField.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-a4eae24c\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-a4eae24c\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/FbField.vue\n// module id = 401\n// module chunks = 0 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('mt-cell', {\n    directives: [{\n      name: \"clickoutside\",\n      rawName: \"v-clickoutside\",\n      value: (_vm.doCloseActive),\n      expression: \"doCloseActive\"\n    }],\n    staticClass: \"mint-field\",\n    class: [{\n      'is-textarea': _vm.type === 'textarea',\n      'is-nolabel': !_vm.label\n    }],\n    attrs: {\n      \"title\": _vm.label\n    }\n  }, [_c('template', {\n    slot: \"title\"\n  }, [_vm._t(\"label\")], 2), _vm._v(\" \"), (_vm.type === 'textarea') ? _c('textarea', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.currentValue),\n      expression: \"currentValue\"\n    }],\n    ref: \"textarea\",\n    staticClass: \"mint-field-core\",\n    attrs: {\n      \"placeholder\": _vm.placeholder,\n      \"rows\": _vm.rows,\n      \"disabled\": _vm.disabled,\n      \"readonly\": _vm.readonly\n    },\n    domProps: {\n      \"value\": (_vm.currentValue)\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$emit('change', _vm.currentValue)\n      },\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.currentValue = $event.target.value\n      }\n    }\n  }) : _c('input', {\n    ref: \"input\",\n    staticClass: \"mint-field-core\",\n    attrs: {\n      \"placeholder\": _vm.placeholder,\n      \"number\": _vm.type === 'number',\n      \"type\": _vm.type,\n      \"disabled\": _vm.disabled,\n      \"readonly\": _vm.readonly\n    },\n    domProps: {\n      \"value\": _vm.currentValue\n    },\n    on: {\n      \"change\": function($event) {\n        _vm.$emit('change', _vm.currentValue)\n      },\n      \"focus\": function($event) {\n        _vm.active = true\n      },\n      \"input\": _vm.handleInput\n    }\n  }), _vm._v(\" \"), (!_vm.disableClear) ? _c('div', {\n    directives: [{\n      name: \"show\",\n      rawName: \"v-show\",\n      value: (_vm.currentValue && _vm.type !== 'textarea' && _vm.active),\n      expression: \"currentValue && type !== 'textarea' && active\"\n    }],\n    staticClass: \"mint-field-clear\",\n    on: {\n      \"click\": _vm.handleClear\n    }\n  }, [_c('i', {\n    staticClass: \"mintui mintui-field-error\"\n  })]) : _vm._e(), _vm._v(\" \"), (_vm.state) ? _c('span', {\n    staticClass: \"mint-field-state\",\n    class: ['is-' + _vm.state]\n  }, [_c('i', {\n    staticClass: \"mintui\",\n    class: ['mintui-field-' + _vm.state]\n  })]) : _vm._e(), _vm._v(\" \"), _c('div', {\n    staticClass: \"mint-field-other\"\n  }, [_vm._t(\"default\")], 2)], 2)\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-a4eae24c\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-a4eae24c!./~/vue-loader/lib/selector.js?type=template&index=0!./src/components/FbField.vue\n// module id = 403\n// module chunks = 0 1","<template lang=\"pug\">\nsection\n  form.change-bank-card-form(@submit.prevent='submit()')\n    .fields-header\n      | 更新银行卡信息\n    .fields\n      fb-field(v-mt-field-blur=\"{blur:getBank}\", label='银行卡号', :placeholder='placeholders.bankCard', v-model=\"bankCardForShow\", :state=\"getFieldState('model.bankCard')\", @click.native=\"showFieldError($event, 'model.bankCard')\")\n        span(slot=\"label\") 银行卡号\n          i.iconfont.ui-icon-info(@click=\"showSupportBanks()\")\n      input(type=\"hidden\", v-model='model.bankCard')\n      mt-field(label='银行预留手机号', :placeholder='placeholders.bankPhone', v-model=\"model.bankPhone\", :state=\"getFieldState('model.bankPhone')\", @click.native=\"showFieldError($event, 'model.bankPhone')\")\n      mt-cell(title=\"开户行\", :value=\"model.bankName | fbFalse\")\n    .form-buttons\n      mt-button.mint-button-block(type='primary', size='large') 下一步\n</template>\n\n<script>\nimport ValidatorMixin from '../validator_mixin.js'\nimport CommonMixin from '../common_mixin.js'\nimport FbField from '../../components/FbField.vue'\nimport {\n  isDetectionBankCard,\n  updateBankInfo,\n  QueryContract\n} from '../../common/resources.js'\nimport {\n  RET_CODE_MAP\n} from '../../constants.js'\nimport {\n  isBankCard\n} from '../../common/utils.js'\nimport {\n  contractInfo\n} from '../../common/adaptors.js'\nimport {\n  mapGetters,\n  mapMutations\n} from 'vuex'\n\nexport default {\n  mixins: [ValidatorMixin, CommonMixin],\n  components: {\n    FbField\n  },\n  beforeRouteEnter(to, from, next) {\n    QueryContract.get().then(res => res.json())\n      .then(data => {\n        const contract = contractInfo(data.data.content)\n        next(vm => {\n          if (data.data.content) {\n            vm.contractInfoHasHistory = true\n            vm.placeholders.bankCard = contract.bankCard.replace(/\\d{4}(?=(\\d{1,4}))/g, '$& ')\n            vm.placeholders.bankPhone = contract.bankPhone\n            vm.model.bankName = contract.bank\n              // Object.assign(vm.model, contractInfo(data.data.content))\n              // vm.model.bankName = vm.model.bank\n              // vm.bankCardForShow = vm.model.bankCard.replace(/\\d{4}(?=(\\d{1,4}))/g, '$& ')\n          }\n        })\n      })\n  },\n\n  validators: {\n    'model.bankCard' (value) {\n      return this.validate(value).required('请输入银行卡号')\n        .custom(() => {\n          if (!isBankCard(value)) {\n            return '请正确输入16-19位银行卡号'\n          }\n        })\n    },\n    'model.bankPhone' (value) {\n      return this.validate(value).required('请输入手机号').digit('请正确输入手机号').regex('^1[3-9]\\\\d{9}$', '请正确输入手机号')\n    },\n    'model.bankName' (value) {\n      return this.validate(value).required()\n    }\n  },\n\n  watch: {\n    'bankCardForShow' () {\n      this.model.bankCard = this.bankCardForShow = this.bankCardForShow.replace(/\\s/g, '')\n      this.bankCardForShow = this.bankCardForShow.replace(/\\d{4}(?=(\\d{1,4}))/g, '$& ') //展示空格分隔的银行卡号\n    }\n  },\n\n  methods: {\n    ...mapMutations(['updateUser']),\n    // 获取银行卡开户行\n    getBank() {\n      if (this.validation.isPassed('model.bankCard')) {\n        isDetectionBankCard.get({\n          bankCard: this.model.bankCard\n        }).then(res => res.json()).then(data => {\n          this.model.bankName = data.data.bank\n          this.bankCardNotSupported = data.ret === RET_CODE_MAP.BANK_CARD_NOT_SUPPORTED\n        })\n      }\n    },\n    submit() {\n      if (this.bankCardNotSupported) {\n        this.$toast('抱歉，您选择的银行卡不支持！', 'error')\n        return\n      }\n\n      // 将placeholder复制给Model\n      if (!this.model.bankCard) {\n        this.bankCardForShow = this.placeholders.bankCard\n        this.model.bankCard = this.placeholders.bankCard.replace(/\\s/g, '')\n      }\n      if (!this.model.bankPhone) {\n        this.model.bankPhone = this.placeholders.bankPhone\n      }\n\n      this.$validate().then(success => {\n        if (success) {\n          updateBankInfo.save(this.model).then(res => res.json()).then(data => {\n            if (data.ret === RET_CODE_MAP.OK) {\n              // 添加更新银行卡state信息\n              this.updateUser(Object.assign({}, this.user, this.model, {\n                bank: this.model.bankName\n              }))\n\n              this.$router.push({\n                name: 'changeBankCardStep3'\n              })\n            }\n          })\n        } else {\n          this.$toast(this.validation.firstError(), 'error')\n        }\n      })\n    }\n  },\n\n  computed: {\n    ...mapGetters(['user'])\n  },\n\n  data() {\n    return {\n      bankCardNotSupported: false,\n      bankCardForShow: '',\n      placeholders: {\n        bankCard: '',\n        bankPhone: null\n      },\n      model: {\n        bankCard: '',\n        bankPhone: null,\n        bankName: ''\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.change-bank-card-form {\n  input::-moz-placeholder {\n    color: #c5c9d2;\n    font-size: 14px;\n    opacity: 1;\n  }\n  input:-ms-input-placeholder {\n    color: #c5c9d2;\n    font-size: 14px;\n  }\n  input::-webkit-input-placeholder {\n    color: #c5c9d2;\n    font-size: 14px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// ChangeBankCardStep2.vue?66dd829a","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.change-bank-card-form input::-moz-placeholder {\\n  color: #c5c9d2;\\n  font-size: 14px;\\n  opacity: 1;\\n}\\n.change-bank-card-form input:-ms-input-placeholder {\\n  color: #c5c9d2;\\n  font-size: 14px;\\n}\\n.change-bank-card-form input::-webkit-input-placeholder {\\n  color: #c5c9d2;\\n  font-size: 14px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/views/account/src/views/account/ChangeBankCardStep2.vue\"],\"names\":[],\"mappings\":\";AA8JA;EAEI,eAAc;EACd,gBAAe;EACf,WAAU;CACX;AALH;EAOI,eAAc;EACd,gBAAe;CAChB;AATH;EAWI,eAAc;EACd,gBAAe;CAChB\",\"file\":\"ChangeBankCardStep2.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.change-bank-card-form {\\n  input::-moz-placeholder {\\n    color: #c5c9d2;\\n    font-size: 14px;\\n    opacity: 1;\\n  }\\n  input:-ms-input-placeholder {\\n    color: #c5c9d2;\\n    font-size: 14px;\\n  }\\n  input::-webkit-input-placeholder {\\n    color: #c5c9d2;\\n    font-size: 14px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-79f3c7bc!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/account/ChangeBankCardStep2.vue\n// module id = 433\n// module chunks = 1","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', [_c('form', {\n    staticClass: \"change-bank-card-form\",\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.submit()\n      }\n    }\n  }, [_c('div', {\n    staticClass: \"fields-header\"\n  }, [_vm._v(\"更新银行卡信息\")]), _c('div', {\n    staticClass: \"fields\"\n  }, [_c('fb-field', {\n    directives: [{\n      name: \"mt-field-blur\",\n      rawName: \"v-mt-field-blur\",\n      value: ({\n        blur: _vm.getBank\n      }),\n      expression: \"{blur:getBank}\"\n    }],\n    attrs: {\n      \"label\": \"银行卡号\",\n      \"placeholder\": _vm.placeholders.bankCard,\n      \"state\": _vm.getFieldState('model.bankCard')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.bankCard')\n      }\n    },\n    model: {\n      value: (_vm.bankCardForShow),\n      callback: function($$v) {\n        _vm.bankCardForShow = $$v\n      },\n      expression: \"bankCardForShow\"\n    }\n  }, [_c('span', {\n    slot: \"label\"\n  }, [_vm._v(\"银行卡号\"), _c('i', {\n    staticClass: \"iconfont ui-icon-info\",\n    on: {\n      \"click\": function($event) {\n        _vm.showSupportBanks()\n      }\n    }\n  })])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.model.bankCard),\n      expression: \"model.bankCard\"\n    }],\n    attrs: {\n      \"type\": \"hidden\"\n    },\n    domProps: {\n      \"value\": (_vm.model.bankCard)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.model.bankCard = $event.target.value\n      }\n    }\n  }), _c('mt-field', {\n    attrs: {\n      \"label\": \"银行预留手机号\",\n      \"placeholder\": _vm.placeholders.bankPhone,\n      \"state\": _vm.getFieldState('model.bankPhone')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.bankPhone')\n      }\n    },\n    model: {\n      value: (_vm.model.bankPhone),\n      callback: function($$v) {\n        _vm.model.bankPhone = $$v\n      },\n      expression: \"model.bankPhone\"\n    }\n  }), _c('mt-cell', {\n    attrs: {\n      \"title\": \"开户行\",\n      \"value\": _vm._f(\"fbFalse\")(_vm.model.bankName)\n    }\n  })], 1), _c('div', {\n    staticClass: \"form-buttons\"\n  }, [_c('mt-button', {\n    staticClass: \"mint-button-block\",\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    }\n  }, [_vm._v(\"下一步\")])], 1)])])\n},staticRenderFns: []}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-79f3c7bc\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-79f3c7bc!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/account/ChangeBankCardStep2.vue\n// module id = 458\n// module chunks = 1","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-79f3c7bc!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep2.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"3b112144\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-79f3c7bc!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep2.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-79f3c7bc!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./ChangeBankCardStep2.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-79f3c7bc!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/account/ChangeBankCardStep2.vue\n// module id = 476\n// module chunks = 1"],"sourceRoot":""}