webpackJsonp([3,17],{346:function(n,e,t){t(434);var o=t(61)(t(378),t(419),"data-v-66d2fb3a",null);o.options.__file="/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/views/Login.vue",o.esModule&&Object.keys(o.esModule).some(function(n){return"default"!==n&&"__esModule"!==n})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] Login.vue: functional components are not supported with templates, they should use render functions."),n.exports=o.exports},359:function(n,e,t){"use strict";var o=t(64),s=t.n(o),r=s.a.Validator;e.a={methods:{Validator:r,validate:r.value,getFieldState:function(n){return this.validation.hasError(n)?"error":this.validation.isPassed(n)?"success":""},showFieldError:function(n,e){var t=n.target;t.classList.contains("mintui-field-error")&&t.parentNode.classList.contains("mint-field-state")&&this.$root.toast(this.validation.firstError(e),"error")}}}},364:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={methods:{start:function(){var n=this;this.handle=setInterval(function(){n.second>0?n.second-=1:n.end()},1e3)},end:function(){clearInterval(this.handle),this.second=59,this.$emit("countdown-over")}},data:function(){return{handle:null,second:59}}}},370:function(n,e,t){n.exports=t.p+"static/img/logo.9d5ffe3.jpg"},371:function(n,e,t){var o=t(61)(t(364),t(373),null,null);o.options.__file="/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/components/FbCountdown.vue",o.esModule&&Object.keys(o.esModule).some(function(n){return"default"!==n&&"__esModule"!==n})&&console.error("named exports are not supported in *.vue files."),o.options.functional&&console.error("[vue-loader] FbCountdown.vue: functional components are not supported with templates, they should use render functions."),n.exports=o.exports},373:function(n,e,t){n.exports={render:function(){var n=this,e=n.$createElement;return(n._self._c||e)("small",[n._v(n._s(n.second)+" 秒后重发")])},staticRenderFns:[]},n.exports.render._withStripped=!0},378:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=t(62),s=t.n(o),r=t(371),i=t.n(r),u=t(359),a=t(15),d=t(63),l=t(26);e.default={components:{FbCountdown:i.a},mixins:[u.a],validators:{"user.phone":function(n){return this.validate(n).required("请输入手机号").digit("请正确输入手机号").regex("^1[3-9]\\d{9}$","请正确输入手机号")},"user.code":function(n){return this.validate(n).required("请输入验证码").digit("请正确输入验证码").length(6,"请正确输入验证码")}},beforeRouteEnter:function(n,e,t){n.query.accesstoken?(n.query.accesstoken,l.a.dispatch("updateToken",n.query.accesstoken),l.a.dispatch("getUser").then(function(e){t({name:n.query.to||"authorizedTip"})})):t()},mounted:function(){this.$route.query.openid&&(this.user.openid=this.$route.query.openid),this.user.phone=this.$store.getters.user.phone||""},methods:s()({},t.i(d.a)(["login","getMsgCode","getUser","updateToken"]),{submit:function(){var n=this;this.$validate().then(function(e){e?n.login(n.user).then(function(e){n.$router.push({name:"authorizedTip"})}):n.$root.toast(n.validation.firstError(),"error")})},toGetMsgCode:function(){var n=this;this.$validate("user.phone").then(function(e){e?n.getMsgCode(n.user.phone).then(function(e){e.ret===a.a.OK&&(n.countdownVisible=!0,n.$refs.fnCountdown.start())}):n.$root.toast(n.validation.firstError("user.phone"),"error")})},onCountdownOver:function(){this.countdownVisible=!1}}),data:function(){return{countdownVisible:!1,user:{UserinfoValLogin:{},integraluserlevel:{},phone:"",code:""}}}}},398:function(n,e,t){e=n.exports=t(1)(),e.push([n.i,"\n.logo[data-v-66d2fb3a] {\n  background: white;\n}\n","",{version:3,sources:["/Users/luxueyan/mine/github/hummingbird-h5-frontend/src/views/src/views/Login.vue"],names:[],mappings:";AAgHA;EACE,kBAAiB;CAClB",file:"Login.vue",sourcesContent:["\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n.logo {\n  background: white;\n}\n\n.login-form {\n  // padding: 10px 0;\n}\n"],sourceRoot:""}])},419:function(n,e,t){n.exports={render:function(){var n=this,e=n.$createElement,t=n._self._c||e;return t("section",[n._m(0),t("form",{staticClass:"login-form",on:{submit:function(e){e.preventDefault(),n.submit()}}},[t("div",{staticClass:"fields"},[t("mt-field",{attrs:{label:"",placeholder:"请输入手机号",state:n.getFieldState("user.phone")},nativeOn:{click:function(e){n.showFieldError(e,"user.phone")}},model:{value:n.user.phone,callback:function(e){n.user.phone=e},expression:"user.phone"}}),t("mt-field",{attrs:{label:"",placeholder:"请输入验证码",state:n.getFieldState("user.code")},nativeOn:{click:function(e){n.showFieldError(e,"user.code")}},model:{value:n.user.code,callback:function(e){n.user.code=e},expression:"user.code"}},[t("mt-button",{attrs:{type:"default",disabled:n.countdownVisible},on:{click:function(e){e.stopPropagation(),e.preventDefault(),n.toGetMsgCode()}}},[t("span",{directives:[{name:"show",rawName:"v-show",value:!n.countdownVisible,expression:"!countdownVisible"}]},[n._v("发送验证码")]),t("fb-countdown",{directives:[{name:"show",rawName:"v-show",value:n.countdownVisible,expression:"countdownVisible"}],ref:"fnCountdown",on:{"countdown-over":function(e){n.onCountdownOver()}}})],1)],1)],1),t("div",{staticClass:"form-buttons"},[t("mt-button",{staticClass:"mint-button-block",attrs:{type:"primary",size:"large"}},[n._v("登录")])],1)])])},staticRenderFns:[function(){var n=this,e=n.$createElement,o=n._self._c||e;return o("div",{staticClass:"logo"},[o("img",{attrs:{src:t(370)}}),o("small",[n._v("免审核借款1000元")])])}]},n.exports.render._withStripped=!0},434:function(n,e,t){var o=t(398);"string"==typeof o&&(o=[[n.i,o,""]]),o.locals&&(n.exports=o.locals);t(3)("788c3a0b",o,!1)}});
//# sourceMappingURL=3.c2aaef23a391269c308f.js.map