{"version":3,"sources":["webpack:///./src/views/bank/AddBankStep1.vue","webpack:///./src/views/common_mixin.js?e091******","webpack:///./src/views/bank/AddBankStep1.vue?8b4e","webpack:///AddBankStep1.vue","webpack:///./src/views/bank/AddBankStep1.vue?9bf8","webpack:///./src/views/bank/AddBankStep1.vue?01f4","webpack:///./src/views/validator_mixin.js?9d68****"],"names":["bankNameIconList","name","icon","bankMixins","methods","getBankIcon","bank","find","indexOf","v","showSupportBanks","bankCards","$store","getters","supportBankCards","length","$msgBox","join","get","then","res","json","data","commit","mapActions","getBank","validation","isPassed","setTimeout","bankCardInfo","cardNo","model","bankCard","code","RET_CODE_MAP","OK","bankName","bankCode","bankCardNotSupported","BANK_CARD_NOT_SUPPORTED","$validate","toGetMsgCode","validatePhoneModel","success","getMsgCode","phone","label","$route","meta","captchaSendType","countdownVisible","$refs","fnCountdown","start","$toast","firstError","onCountdownOver","watch","bankCardForShow","replace","Validator","SimpleVueValidation","validate","value","getFieldState","field","hasError","showFieldError","event","et","target","classList","contains","parentNode"],"mappings":"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","file":"static/js/8.js","sourcesContent":["\n/* styles */\nrequire(\"!!vue-style-loader!css-loader?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter?id=data-v-32fb9efb!sass-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./AddBankStep1.vue\")\n\nvar Component = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")(\n  /* script */\n  require(\"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./AddBankStep1.vue\"),\n  /* template */\n  require(\"!!../../../node_modules/vue-loader/lib/template-compiler?id=data-v-32fb9efb!../../../node_modules/vue-loader/lib/template-loader?raw&engine=pug!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./AddBankStep1.vue\"),\n  /* scopeId */\n  null,\n  /* cssModules */\n  null\n)\nComponent.options.__file = \"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/bank/AddBankStep1.vue\"\nif (Component.esModule && Object.keys(Component.esModule).some(function (key) {return key !== \"default\" && key !== \"__esModule\"})) {console.error(\"named exports are not supported in *.vue files.\")}\nif (Component.options.functional) {console.error(\"[vue-loader] AddBankStep1.vue: functional components are not supported with templates, they should use render functions.\")}\n\n/* hot reload */\nif (module.hot) {(function () {\n  var hotAPI = require(\"vue-hot-reload-api\")\n  hotAPI.install(require(\"vue\"), false)\n  if (!hotAPI.compatible) return\n  module.hot.accept()\n  if (!module.hot.data) {\n    hotAPI.createRecord(\"data-v-32fb9efb\", Component.options)\n  } else {\n    hotAPI.reload(\"data-v-32fb9efb\", Component.options)\n  }\n})()}\n\nmodule.exports = Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/views/bank/AddBankStep1.vue\n// module id = +pef\n// module chunks = 8","import { RET_CODE_MAP } from '@/constants.js'\nimport { mapActions } from 'vuex'\nimport { bankCardInfo, supportBankCards } from '@/common/resources.js'\nimport { get, find } from 'lodash'\n\nconst bankNameIconList = [{\n  name: '农业',\n  icon: 'nongye'\n}, {\n  name: '中国银行',\n  icon: 'zhongguo'\n}, {\n  name: '兴业',\n  icon: 'nongye'\n}, {\n  name: '工商',\n  icon: 'gongshang'\n}, {\n  name: '建设',\n  icon: 'jianshen'\n}, {\n  name: '交通',\n  icon: 'jiaotong'\n}, {\n  name: '北京',\n  icon: 'beijing'\n}, {\n  name: '民生银行',\n  icon: 'minsheng'\n}, {\n  name: '光大',\n  icon: 'guangda'\n}, {\n  name: '上海',\n  icon: 'shanghai'\n}, {\n  name: '中信',\n  icon: 'zhongxin'\n}, {\n  name: '浙商',\n  icon: 'zheshang'\n}, {\n  name: '邮政',\n  icon: 'youzhengchuxu'\n}, {\n  name: '华夏',\n  icon: 'huaxia'\n}, {\n  name: '渤海',\n  icon: 'bohai'\n}, {\n  name: '平安',\n  icon: 'pingan'\n}, {\n  name: '恒丰',\n  icon: 'hengfeng'\n}, {\n  name: '浦发',\n  icon: 'pufa'\n}, {\n  name: '招商',\n  icon: 'zhaoshang'\n}, {\n  name: '广发',\n  icon: 'guangfa'\n}]\n\nconst bankMixins = {\n  methods: {\n    // 利用银行名称模糊匹配icon\n    getBankIcon(name) {\n      const bank = find(bankNameIconList, v => ~name.indexOf(v.name))\n      return (bank ? bank.icon : '') + 'yinhang'\n    },\n\n    async showSupportBanks() {\n      const bankCards = this.$store.getters.supportBankCards\n      if (bankCards.length) {\n        this.$msgBox('支持银行列表：', bankCards.join('、'))\n      } else {\n        const data = await supportBankCards.get().then(res => res.json())\n        this.$store.commit('updateSupportBankCards', data.data)\n        this.$msgBox('支持银行列表：', data.data.join('、'))\n      }\n    }\n  }\n}\n\nexport { bankMixins }\n\nexport default {\n  methods: {\n    ...mapActions(['getMsgCode']),\n    ...bankMixins.methods,\n    // 获取银行卡开户行\n    async getBank() {\n      if (this.validation.isPassed('model.bankCard')) {\n        setTimeout(async() => {\n          const data = await bankCardInfo.get({\n            cardNo: this.model.bankCard\n          }).then(res => res.json())\n          if (data.code === RET_CODE_MAP.OK) {\n            this.model.bankName = data.data.bankName\n            this.model.bankCode = data.data.bankCode\n          } else {\n            this.model.bankName = '自动生成'\n            this.model.bankCode = ''\n          }\n          this.bankCardNotSupported = data.code === RET_CODE_MAP.BANK_CARD_NOT_SUPPORTED\n          this.$validate('model.bankCard')\n        }, 100) // 异步执行避免影响到点击清除的功能\n      }\n    },\n\n    // 获取验证码\n    async toGetMsgCode() {\n      const success = await this.$validate(this.validatePhoneModel)\n      if (success) {\n        const data = await this.getMsgCode({\n          phone: get(this, this.validatePhoneModel),\n          label: this.$route.meta.captchaSendType || ''\n        })\n        if (data.code === RET_CODE_MAP.OK) {\n          this.countdownVisible = true\n          this.$refs.fnCountdown.start()\n        }\n      } else {\n        this.$toast(this.validation.firstError(this.validatePhoneModel), 'error')\n      }\n    },\n\n    // 定时器结束 隐藏定时器\n    onCountdownOver() {\n      this.countdownVisible = false\n    }\n  },\n\n  watch: {\n    // 空格分隔的银行卡号\n    'bankCardForShow' () {\n      this.model.bankCard = this.bankCardForShow = this.bankCardForShow.replace(/\\s/g, '')\n      this.bankCardForShow = this.bankCardForShow.replace(/\\d{4}(?=(\\d{1,4}))/g, '$& ') //展示空格分隔的银行卡号\n    },\n    'model.bankCard' () {\n      this.bankCardNotSupported = false // 重新输入银行卡后，不支持的状态重置为false，避免影响到再次获取银行卡信息的逻辑\n    }\n  },\n\n  data() {\n    return {\n      bankCardForShow: '',\n      bankCardNotSupported: false,\n      validatePhoneModel: 'user.phone', // 获取验证码前验证手机号\n      countdownVisible: false\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/common_mixin.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-32fb9efb!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./AddBankStep1.vue\");\nif(typeof content === 'string') content = [[module.id, content, '']];\nif(content.locals) module.exports = content.locals;\n// add the styles to the DOM\nvar update = require(\"!../../../node_modules/vue-style-loader/lib/addStylesClient.js\")(\"617db4ff\", content, false);\n// Hot Module Replacement\nif(module.hot) {\n // When the styles change, update the <style> tags\n if(!content.locals) {\n   module.hot.accept(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-32fb9efb!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./AddBankStep1.vue\", function() {\n     var newContent = require(\"!!../../../node_modules/css-loader/index.js?{\\\"minimize\\\":0,\\\"autoprefixer\\\":false,\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-rewriter.js?id=data-v-32fb9efb!../../../node_modules/sass-loader/index.js?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector.js?type=styles&index=0!./AddBankStep1.vue\");\n     if(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n     update(newContent);\n   });\n }\n // When the module is disposed, remove the <style> tags\n module.hot.dispose(function() { update(); });\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-style-loader!./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-32fb9efb!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/bank/AddBankStep1.vue\n// module id = 7lfI\n// module chunks = 8","<template lang=\"pug\">\nsection.add-bank-step1\n  form(@submit.prevent='submit()')\n    .fields-header\n      p 请添加持卡人本人的银行卡\n    .fields\n      mt-cell(v-if=\"user.name\", title=\"持卡人\", :value=\"model.name\")\n      mt-field(v-if=\"!user.name\", label='姓名', placeholder='请输入真实姓名', v-model=\"model.name\", :state=\"getFieldState('model.name')\", @click.native=\"showFieldError($event, 'model.name')\")\n      fb-field(v-mt-field-blur=\"{blur:getBank}\", placeholder=\"点击问号查看支持银行卡\", label='银行卡号', v-model=\"bankCardForShow\", :state=\"getFieldState('model.bankCard')\", @click.native=\"showFieldError($event, 'model.bankCard')\")\n        span(slot=\"label\") 银行卡号\n          i.iconfont.icon-wenhao(@click=\"showSupportBanks()\")\n      input(type=\"hidden\", v-model='model.bankCard')\n      mt-cell.field-cell(:class=\"{'empty': model.bankName === '自动匹配'}\", title=\"开户行\", :value=\"model.bankName\")\n      mt-field(label='银行预留手机号', placeholder=\"填写手机号\", v-model=\"model.bankReservePhone\", :state=\"getFieldState('model.bankReservePhone')\", @click.native=\"showFieldError($event, 'model.bankReservePhone')\")\n    .form-buttons\n      mt-button.mint-button-block(type='primary', size='large') 下一步\n</template>\n\n<script>\nimport CommonMixin from '@/views/common_mixin.js'\nimport ValidatorMixin from '@/views/validator_mixin.js'\nimport { isBankCard } from '@/common/utils.js'\nimport { mapGetters } from 'vuex'\n\nexport default {\n  mixins: [CommonMixin, ValidatorMixin],\n  methods: {\n    async submit() {\n      const success = await this.$validate()\n      if (success) {\n        this.$router.push({\n          name: 'addBankStep2',\n          params: {\n            model: this.model,\n            from: this.$route.from\n          }\n        })\n      } else {\n        this.$toast(this.validation.firstError(), 'error')\n      }\n    }\n  },\n\n  computed: {\n    ...mapGetters(['user'])\n  },\n\n  validators: {\n    'model.bankCard' (value) {\n      return this.validate(value).required('请输入银行卡号')\n        .custom(() => {\n          if (this.bankCardNotSupported) {\n            return '抱歉，您选择的银行卡不支持！'\n          } else if (!isBankCard(value)) {\n            return '请正确输入16-19位银行卡号'\n          }\n        })\n    },\n    'model.bankReservePhone' (value) {\n      return this.validate(value).required('请输入手机号').digit('请正确输入手机号').regex('^1[3-9]\\\\d{9}$', '请正确输入手机号')\n    },\n    'model.bankName' (value) {\n      return this.validate(value).required()\n    },\n    'model.name' (value) {\n      return this.validate(value).required('请输入您的姓名')\n    }\n  },\n\n  data() {\n    return {\n      model: {\n        name: this.$store.getters.user.name,\n        bankCard: '',\n        bankName: '自动匹配',\n        bankCode: '',\n        bankReservePhone: '',\n        captcha: '',\n        isDefault: true\n      }\n    }\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.add-bank-step1 {\n  input::-moz-placeholder {\n    color: #c5c9d2;\n    font-size: 14px;\n    opacity: 1;\n  }\n  input:-ms-input-placeholder {\n    color: #c5c9d2;\n    font-size: 14px;\n  }\n  input::-webkit-input-placeholder {\n    color: #c5c9d2;\n    font-size: 14px;\n  }\n}\n</style>\n\n\n\n// WEBPACK FOOTER //\n// AddBankStep1.vue?3ec301ca","module.exports={render:function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('section', {\n    staticClass: \"add-bank-step1\"\n  }, [_c('form', {\n    on: {\n      \"submit\": function($event) {\n        $event.preventDefault();\n        _vm.submit()\n      }\n    }\n  }, [_vm._m(0), _c('div', {\n    staticClass: \"fields\"\n  }, [(_vm.user.name) ? _c('mt-cell', {\n    attrs: {\n      \"title\": \"持卡人\",\n      \"value\": _vm.model.name\n    }\n  }) : _vm._e(), (!_vm.user.name) ? _c('mt-field', {\n    attrs: {\n      \"label\": \"姓名\",\n      \"placeholder\": \"请输入真实姓名\",\n      \"state\": _vm.getFieldState('model.name')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.name')\n      }\n    },\n    model: {\n      value: (_vm.model.name),\n      callback: function($$v) {\n        _vm.model.name = $$v\n      },\n      expression: \"model.name\"\n    }\n  }) : _vm._e(), _c('fb-field', {\n    directives: [{\n      name: \"mt-field-blur\",\n      rawName: \"v-mt-field-blur\",\n      value: ({\n        blur: _vm.getBank\n      }),\n      expression: \"{blur:getBank}\"\n    }],\n    attrs: {\n      \"placeholder\": \"点击问号查看支持银行卡\",\n      \"label\": \"银行卡号\",\n      \"state\": _vm.getFieldState('model.bankCard')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.bankCard')\n      }\n    },\n    model: {\n      value: (_vm.bankCardForShow),\n      callback: function($$v) {\n        _vm.bankCardForShow = $$v\n      },\n      expression: \"bankCardForShow\"\n    }\n  }, [_c('span', {\n    slot: \"label\"\n  }, [_vm._v(\"银行卡号\"), _c('i', {\n    staticClass: \"iconfont icon-wenhao\",\n    on: {\n      \"click\": function($event) {\n        _vm.showSupportBanks()\n      }\n    }\n  })])]), _c('input', {\n    directives: [{\n      name: \"model\",\n      rawName: \"v-model\",\n      value: (_vm.model.bankCard),\n      expression: \"model.bankCard\"\n    }],\n    attrs: {\n      \"type\": \"hidden\"\n    },\n    domProps: {\n      \"value\": (_vm.model.bankCard)\n    },\n    on: {\n      \"input\": function($event) {\n        if ($event.target.composing) { return; }\n        _vm.model.bankCard = $event.target.value\n      }\n    }\n  }), _c('mt-cell', {\n    staticClass: \"field-cell\",\n    class: {\n      'empty': _vm.model.bankName === '自动匹配'\n    },\n    attrs: {\n      \"title\": \"开户行\",\n      \"value\": _vm.model.bankName\n    }\n  }), _c('mt-field', {\n    attrs: {\n      \"label\": \"银行预留手机号\",\n      \"placeholder\": \"填写手机号\",\n      \"state\": _vm.getFieldState('model.bankReservePhone')\n    },\n    nativeOn: {\n      \"click\": function($event) {\n        _vm.showFieldError($event, 'model.bankReservePhone')\n      }\n    },\n    model: {\n      value: (_vm.model.bankReservePhone),\n      callback: function($$v) {\n        _vm.model.bankReservePhone = $$v\n      },\n      expression: \"model.bankReservePhone\"\n    }\n  })], 1), _c('div', {\n    staticClass: \"form-buttons\"\n  }, [_c('mt-button', {\n    staticClass: \"mint-button-block\",\n    attrs: {\n      \"type\": \"primary\",\n      \"size\": \"large\"\n    }\n  }, [_vm._v(\"下一步\")])], 1)])])\n},staticRenderFns: [function (){var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;\n  return _c('div', {\n    staticClass: \"fields-header\"\n  }, [_c('p', [_vm._v(\"请添加持卡人本人的银行卡\")])])\n}]}\nmodule.exports.render._withStripped = true\nif (module.hot) {\n  module.hot.accept()\n  if (module.hot.data) {\n     require(\"vue-hot-reload-api\").rerender(\"data-v-32fb9efb\", module.exports)\n  }\n}\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/vue-loader/lib/template-compiler.js?id=data-v-32fb9efb!./~/vue-loader/lib/template-loader.js?raw&engine=pug!./~/vue-loader/lib/selector.js?type=template&index=0!./src/views/bank/AddBankStep1.vue\n// module id = HzCO\n// module chunks = 8","exports = module.exports = require(\"../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"\\n.add-bank-step1 input::-moz-placeholder {\\n  color: #c5c9d2;\\n  font-size: 14px;\\n  opacity: 1;\\n}\\n.add-bank-step1 input:-ms-input-placeholder {\\n  color: #c5c9d2;\\n  font-size: 14px;\\n}\\n.add-bank-step1 input::-webkit-input-placeholder {\\n  color: #c5c9d2;\\n  font-size: 14px;\\n}\\n\", \"\", {\"version\":3,\"sources\":[\"/Users/luxueyan/mine/github/fn-h5-frontend/src/views/bank/src/views/bank/AddBankStep1.vue\"],\"names\":[],\"mappings\":\";AAsFA;EAEI,eAAc;EACd,gBAAe;EACf,WAAU;CACX;AALH;EAOI,eAAc;EACd,gBAAe;CAChB;AATH;EAWI,eAAc;EACd,gBAAe;CAChB\",\"file\":\"AddBankStep1.vue\",\"sourcesContent\":[\"\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n\\n.add-bank-step1 {\\n  input::-moz-placeholder {\\n    color: #c5c9d2;\\n    font-size: 14px;\\n    opacity: 1;\\n  }\\n  input:-ms-input-placeholder {\\n    color: #c5c9d2;\\n    font-size: 14px;\\n  }\\n  input::-webkit-input-placeholder {\\n    color: #c5c9d2;\\n    font-size: 14px;\\n  }\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/css-loader?{\"minimize\":0,\"autoprefixer\":false,\"sourceMap\":true}!./~/vue-loader/lib/style-rewriter.js?id=data-v-32fb9efb!./~/sass-loader?{\"sourceMap\":true}!./~/vue-loader/lib/selector.js?type=styles&index=0!./src/views/bank/AddBankStep1.vue\n// module id = jbpG\n// module chunks = 8","import SimpleVueValidation from 'simple-vue-validator'\nconst Validator = SimpleVueValidation.Validator\n\nexport default {\n  methods: {\n    Validator,\n    validate: Validator.value,\n    getFieldState(field) {\n      if (this.validation.hasError(field)) {\n        return 'error'\n      } else if (this.validation.isPassed(field)) {\n        return 'success'\n      }\n      return ''\n    },\n    showFieldError(event, field) {\n      const et = event.target\n      if (et.classList.contains('mintui-field-error') && et.parentNode.classList.contains('mint-field-state')) {\n        this.$toast(this.validation.firstError(field), 'error')\n      }\n    }\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/views/validator_mixin.js"],"sourceRoot":""}